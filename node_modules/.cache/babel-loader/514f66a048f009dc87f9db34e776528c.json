{"ast":null,"code":"import _objectSpread from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import LogEntry from'./LogEntryFunctional.js';import Loader from'../utils/Loader.js';import interfaceData from'./InterfaceData.js';import templateData from'./LogTemplateData.js';import generateNewLogId from'./GenerateLogId.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Logger=function Logger(_ref){var logId=_ref.logId,location=_ref.location;console.log(\"Logger => logId: \".concat(logId,\"\\nlocalStorage.getItem('logId'): \").concat(localStorage.getItem('logId')));var logExists=function logExists(){return localStorage.getItem(logId)===null?false:true;};// eslint-disable-next-line\nvar initLogId=function initLogId(){return logExists()?logId:generateNewLogId();};var initLog=function initLog(){return logExists()?JSON.parse(localStorage.getItem(logId)):templateData;};var _useState=useState({//logID: initLogId(),\nlogID:localStorage.getItem('logId'),log:initLog(),isLoaded:false,items:[]}),_useState2=_slicedToArray(_useState,2),status=_useState2[0],setStatus=_useState2[1];// eslint-disable-next-line\nvar getSpot=function getSpot(){return localStorage.getItem(\"spot\");};useEffect(function(){// eslint-disable-next-line\nvar state=location.state;var logId=localStorage.getItem('logId');console.log(\"LoggerFunctional => componentDidMount -> SPOT: \".concat(getSpot(),\"\\ngetLogId: \").concat(localStorage.getItem('logId'),\"\\nlogId: \").concat(logId));if(localStorage.getItem(logId)===null){setStatus(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{log:templateData,logID:generateNewLogId()});});console.log(\"LoggerFunctional => componentDidMount -> 1\\nSPOT: \".concat(getSpot(),\"\\nlogID: \").concat(logId,\"\\nlog: \").concat(JSON.stringify(status.log,null,2)));}else{setStatus(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{log:JSON.parse(localStorage.getItem(logId)),logID:logId});});//console.log(`LoggerFunctional => componentDidMount -> 2\\nSPOT: ${getSpot()}\\nlogID: ${logId}\\nlog: ${JSON.stringify(status.log, null, 2)}`); \n}var data=interfaceData;var returnJSON=function returnJSON(response){return response.json();};var returnRejection=function returnRejection(response){return Promise.reject({status:response.status,data:data});};// eslint-disable-next-line\nvar validate=function validate(response){return response.ok?returnJSON(response):returnRejection(response);};setStatus({log:JSON.parse(localStorage.getItem(logId)),logID:logId,items:data,isLoaded:true});},[]);var updateLog=function updateLog(groupTitle,label,selected,set){var log=status.log!==null?status.log:templateData;//console.log(`updateLog => \\ngroupTitle: ${groupTitle} \\nlabel: ${label}\\nselected: ${selected}\\nset: ${set}\\nlog: ${JSON.stringify(log, null, 2)}`)\nlog[groupTitle][label]=selected;if(groupTitle!==undefined&&groupTitle!==1&&selected!==undefined&&set){setStatus(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{log:log});});}};var getStateLog=function getStateLog(){return status.log;};//console.log(`LoggerFunctional ===> ${JSON.stringify(status.items, null, 2)}`);\nvar appInterface=/*#__PURE__*/_jsxs(\"div\",{className:\"App-content fadeIn\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex3Column\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex3Column\",children:/*#__PURE__*/_jsx(Loader,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex3Column\"})]});if(status.isLoaded){appInterface=/*#__PURE__*/_jsxs(\"div\",{className:\"App-content fadeIn\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex3Column\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex3Column\",children:/*#__PURE__*/_jsx(LogEntry,{logId:status.logID,onChange:updateLog,getStateLog:getStateLog,title:\"Session Log\",message:\"Add your session data\",buttonLabel:\"submit\",items:status.items})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex3Column\"})]});}return appInterface;};export default Logger;","map":{"version":3,"names":["React","useState","useEffect","LogEntry","Loader","interfaceData","templateData","generateNewLogId","jsx","_jsx","jsxs","_jsxs","Logger","_ref","logId","location","console","log","concat","localStorage","getItem","logExists","initLogId","initLog","JSON","parse","_useState","logID","isLoaded","items","_useState2","_slicedToArray","status","setStatus","getSpot","state","prevState","_objectSpread","stringify","data","returnJSON","response","json","returnRejection","Promise","reject","validate","ok","updateLog","groupTitle","label","selected","set","undefined","getStateLog","appInterface","className","children","onChange","title","message","buttonLabel"],"sources":["/Users/js/Dev/my-first-reactor/src/components/waves/LoggerFunctional.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport LogEntry from './LogEntryFunctional.js';\nimport Loader from '../utils/Loader.js';\nimport interfaceData from './InterfaceData.js'\nimport templateData from './LogTemplateData.js';\nimport generateNewLogId from './GenerateLogId.js';\n\nconst Logger = ({logId, location}) => { \n    console.log(`Logger => logId: ${logId}\\nlocalStorage.getItem('logId'): ${localStorage.getItem('logId')}`); \n    const logExists = () => (localStorage.getItem(logId) === null) ? false : true;\n    // eslint-disable-next-line\n    const initLogId = () => (logExists()) ? logId : generateNewLogId();\n    const initLog = () => (logExists()) ? JSON.parse(localStorage.getItem(logId)) : templateData;\n    const [status, setStatus] = useState({\n        //logID: initLogId(),\n        logID: localStorage.getItem('logId'),\n        log: initLog(),\n        isLoaded: false,\n        items: []\n    })\n    // eslint-disable-next-line\n    const getSpot = () => localStorage.getItem(\"spot\");\n    useEffect(() => {\n        // eslint-disable-next-line\n        const { state } = location;\n        const logId = localStorage.getItem('logId');\n        console.log(`LoggerFunctional => componentDidMount -> SPOT: ${getSpot()}\\ngetLogId: ${localStorage.getItem('logId')}\\nlogId: ${logId}`); \n        \n        if (localStorage.getItem(logId) === null) {\n            setStatus(prevState => ({\n                ...prevState,\n                log: templateData,\n                logID:generateNewLogId()\n            }));\n            console.log(`LoggerFunctional => componentDidMount -> 1\\nSPOT: ${getSpot()}\\nlogID: ${logId}\\nlog: ${JSON.stringify(status.log, null, 2)}`); \n        \n        } else {\n            setStatus(prevState => ({\n                ...prevState,\n                log: JSON.parse(localStorage.getItem(logId)),\n                logID: logId\n            }));\n            //console.log(`LoggerFunctional => componentDidMount -> 2\\nSPOT: ${getSpot()}\\nlogID: ${logId}\\nlog: ${JSON.stringify(status.log, null, 2)}`); \n        }\n        \n        let data = interfaceData;\n        const returnJSON = (response) => response.json();\n        const returnRejection = (response) => Promise.reject({status: response.status, data});\n        // eslint-disable-next-line\n        const validate = (response) => (response.ok) ? returnJSON(response) : returnRejection(response);\n        setStatus({\n            log: JSON.parse(localStorage.getItem(logId)),\n            logID: logId,\n            items: data,\n            isLoaded: true\n        });\n    }, [])\n\n    const updateLog = (groupTitle, label, selected, set) => {\n        const log = (status.log !== null) ? status.log : templateData;\n        //console.log(`updateLog => \\ngroupTitle: ${groupTitle} \\nlabel: ${label}\\nselected: ${selected}\\nset: ${set}\\nlog: ${JSON.stringify(log, null, 2)}`)\n        log[groupTitle][label] = selected;\n        if (groupTitle !== undefined && groupTitle !== 1 && selected !== undefined && set) {\n            setStatus(prevState => ({\n                ...prevState,\n                log: log\n            }));\n        }\n    }\n    const getStateLog = () => status.log;\n          \n    //console.log(`LoggerFunctional ===> ${JSON.stringify(status.items, null, 2)}`);\n    let appInterface = <div className=\"App-content fadeIn\">\n                            <div className=\"flex3Column\"></div>\n                            <div className=\"flex3Column\">\n                                <Loader />\n                            </div>\n                            <div className=\"flex3Column\"></div>\n                        </div>;\n                        \n    if (status.isLoaded) {\n        appInterface = <div className=\"App-content fadeIn\">\n            <div className=\"flex3Column\"></div>\n            <div className=\"flex3Column\">\n                <LogEntry\n                    logId={status.logID}\n                    onChange={updateLog} \n                    getStateLog={getStateLog} \n                    title=\"Session Log\" \n                    message=\"Add your session data\"  \n                    buttonLabel=\"submit\" \n                    items={status.items}\n                />\n            </div>\n            <div className=\"flex3Column\"></div>\n        </div>\n        \n    }\n    return (\n        appInterface            \n    )\n    \n}\nexport default Logger;"],"mappings":"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"},"metadata":{},"sourceType":"module"}