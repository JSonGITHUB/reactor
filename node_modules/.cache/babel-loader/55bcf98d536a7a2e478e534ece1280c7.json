{"ast":null,"code":"import _regeneratorRuntime from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ExchangeRates=function ExchangeRates(){var _data$error,_data$error2;// set endpoint and your access key\n//const endpoint = 'latest'\n//const endpoint = '2000-01-17'\nvar endpoint='convert';var access_key='58e53558ca998da70c28b76dba516368';var from='USD';var to='EUR';var amount=25;var templateData={success:true,timestamp:1519296206,base:\"EUR\",date:\"2021-03-17\",rates:{AUD:1.566015,CAD:1.560132,CHF:1.154727,CNY:7.827874,GBP:0.882047,JPY:132.360679,USD:1.23396}};//const [rates, setRates] = useState(null);\nvar _useState=useState(templateData),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){var fetchRates=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,_data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('https://api.exchangeratesapi.io/v1/'+endpoint+'?access_key='+access_key+'&from='+from+'&to='+to+'&amount='+amount);case 3:response=_context.sent;_context.next=6;return response.json();case 6:_data=_context.sent;//alert(JSON.stringify(data.error.code, null, 2));\nsetData(templateData);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);//console.error('Error fetching exchange rates:', error);\nsetData(templateData);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function fetchRates(){return _ref.apply(this,arguments);};}();fetchRates();},[]);if(!data){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}var rates=data.rates||templateData.rates;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Exchange Rates\"}),/*#__PURE__*/_jsx(\"ul\",{children:Object.entries(data.rates).map(function(_ref2){var _ref3=_slicedToArray(_ref2,2),currency=_ref3[0],rate=_ref3[1];return/*#__PURE__*/_jsxs(\"li\",{children:[currency,\": \",rate]},currency);})}),\"Error code: \",(_data$error=data.error)===null||_data$error===void 0?void 0:_data$error.code,/*#__PURE__*/_jsx(\"br\",{}),\"Error message: \",(_data$error2=data.error)===null||_data$error2===void 0?void 0:_data$error2.message]});};export default ExchangeRates;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","ExchangeRates","_data$error","_data$error2","endpoint","access_key","from","to","amount","templateData","success","timestamp","base","date","rates","AUD","CAD","CHF","CNY","GBP","JPY","USD","_useState","_useState2","_slicedToArray","data","setData","fetchRates","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","_data","wrap","_callee$","_context","prev","next","fetch","sent","json","t0","stop","apply","arguments","children","Object","entries","map","_ref2","_ref3","currency","rate","error","code","message"],"sources":["/Users/js/Dev/my-first-reactor/src/components/utils/ExchangeRates.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst ExchangeRates = () => {\n\n  // set endpoint and your access key\n  //const endpoint = 'latest'\n  //const endpoint = '2000-01-17'\n  const endpoint = 'convert'\n  const access_key = '58e53558ca998da70c28b76dba516368';\n  const from = 'USD';\n  const to = 'EUR';\n  const amount = 25;\n\n  const templateData = {\n    success: true,\n    timestamp: 1519296206,\n    base: \"EUR\",\n    date: \"2021-03-17\",\n    rates: {\n          AUD: 1.566015,\n          CAD: 1.560132,\n          CHF: 1.154727,\n          CNY: 7.827874,\n          GBP: 0.882047,\n          JPY: 132.360679,\n          USD: 1.23396\n    }\n  }\n\n  //const [rates, setRates] = useState(null);\n  const [data, setData] = useState(templateData);\n\n  useEffect(() => {\n    const fetchRates = async () => {\n      try {\n        const response = await fetch('https://api.exchangeratesapi.io/v1/' + endpoint + '?access_key=' + access_key + '&from=' + from + '&to=' + to + '&amount=' + amount);\n        const data = await response.json();\n        //alert(JSON.stringify(data.error.code, null, 2));\n        setData(templateData);\n      } catch (error) {\n        //console.error('Error fetching exchange rates:', error);\n        setData(templateData);\n      }\n    };\n\n    fetchRates();\n  }, []);\n\n  if (!data) {\n    return <div>Loading...</div>;\n  }\n  \n  const rates = data.rates || templateData.rates;\n  \n  return (\n    <div>\n      <h2>Exchange Rates</h2>\n      <ul>\n        {Object.entries(data.rates).map(([currency, rate]) => (\n          <li key={currency}>\n            {currency}: {rate}\n          </li>\n        ))}\n      </ul>\n      Error code: {data.error?.code}\n      <br/>\n      Error message: {data.error?.message}\n    </div>\n  );\n  \n};\n\nexport default ExchangeRates;"],"mappings":"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"},"metadata":{},"sourceType":"module"}