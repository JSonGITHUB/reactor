{"ast":null,"code":"var _jsxFileName = \"/Users/js/Dev/my-first-reactor/src/components/utils/ExchangeRatesConfig.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport menu from '../../assets/images/menuYellow.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ExchangeRatesConfig = _ref => {\n  _s();\n  let {\n    onExchangeRatesChange\n  } = _ref;\n  const defaultRates = {\n    USD: 1,\n    MXN: 17.16,\n    // Mexican Peso\n    NIO: 36.55,\n    // Nicaraguan Cordovas\n    CRC: 541.23,\n    // Costa Rican Colones\n    IDR: 15045.30,\n    // Indonesian Rupiah\n    AUD: 1.50 // Australian Dollar\n  };\n\n  const [exchangeRates, setExchangeRates] = useState(defaultRates);\n  const [settings, setSettings] = useState(false);\n  useEffect(() => {\n    const savedExchangeRates = JSON.parse(localStorage.getItem('exchangeRates')) || {};\n    const fetchRates = async () => {\n      try {\n        //const response = await fetch('https://api.exchangeratesapi.io/v1/' + endpoint + '?access_key=' + access_key + '&from=' + from + '&to=' + to + '&amount=' + amount);\n        const response = await fetch('http://localhost:3002/currency');\n        const data = await response.json();\n        console.log(`data: ${JSON.stringify(data, null, 2)}`);\n        setExchangeRates(data.rates);\n        onExchangeRatesChange(exchangeRates);\n      } catch (error) {\n        //console.error('Error fetching exchange rates:', error);\n        //setData(templateData);\n      }\n    };\n    const isObjectEmpty = obj => Object.keys(obj).length === 0 && obj.constructor === Object;\n    const currentExchangeRates = !isObjectEmpty(savedExchangeRates) ? savedExchangeRates : fetchRates();\n    if (!isObjectEmpty(currentExchangeRates) && currentExchangeRates === savedExchangeRates) {\n      setExchangeRates(currentExchangeRates);\n      onExchangeRatesChange(exchangeRates);\n    }\n  }, []);\n  useEffect(() => {\n    localStorage.setItem('exchangeRates', JSON.stringify(exchangeRates));\n    onExchangeRatesChange(exchangeRates);\n  }, [exchangeRates]);\n  useEffect(() => {\n    localStorage.setItem('exchangeRates', JSON.stringify(exchangeRates));\n    onExchangeRatesChange(exchangeRates); // Invoke the callback when rates change\n  }, [exchangeRates, onExchangeRatesChange]);\n  const toggleSettings = () => {\n    setSettings(!settings);\n  };\n  const handleRateChange = (rate, value) => {\n    console.log(`handleRateChange 1 - value: ${value} rate: ${rate}`);\n    setExchangeRates(prevState => ({\n      ...prevState,\n      [rate]: value\n    }));\n    onExchangeRatesChange(exchangeRates);\n  };\n  const handleRateEnter = e => {\n    console.log(`handleRateEnter:1 - key: ${e.key}`);\n    if (e.key === 'Enter') {\n      console.log(`handleRateEnter:2 - key: ${e.key}`);\n      toggleSettings();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"color-yellow button\",\n        src: menu,\n        alt: \"open menu\",\n        onClick: () => toggleSettings()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), settings ? Object.keys(exchangeRates).map(rate => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"p-20 m-5 color-lite bold\",\n        htmlFor: rate,\n        children: rate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"p-20 m-5 color-lite bold bg-black\",\n        type: \"number\",\n        id: rate,\n        value: exchangeRates[rate],\n        onChange: e => handleRateChange(rate, e.target.value),\n        onKeyDown: e => handleRateEnter(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }, this)]\n    }, rate, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n};\n_s(ExchangeRatesConfig, \"cSg8rAcUVm/EvDUtICdXvK40KDM=\");\n_c = ExchangeRatesConfig;\nexport default ExchangeRatesConfig;\nvar _c;\n$RefreshReg$(_c, \"ExchangeRatesConfig\");","map":{"version":3,"names":["React","useState","useEffect","menu","jsxDEV","_jsxDEV","ExchangeRatesConfig","_ref","_s","onExchangeRatesChange","defaultRates","USD","MXN","NIO","CRC","IDR","AUD","exchangeRates","setExchangeRates","settings","setSettings","savedExchangeRates","JSON","parse","localStorage","getItem","fetchRates","response","fetch","data","json","console","log","stringify","rates","error","isObjectEmpty","obj","Object","keys","length","constructor","currentExchangeRates","setItem","toggleSettings","handleRateChange","rate","value","prevState","handleRateEnter","e","key","children","className","src","alt","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","htmlFor","type","id","onChange","target","onKeyDown","_c","$RefreshReg$"],"sources":["/Users/js/Dev/my-first-reactor/src/components/utils/ExchangeRatesConfig.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport menu from '../../assets/images/menuYellow.png';\n\nconst ExchangeRatesConfig = ({ onExchangeRatesChange }) => {\n\n    const defaultRates = {\n        USD: 1,\n        MXN: 17.16,   // Mexican Peso\n        NIO: 36.55,   // Nicaraguan Cordovas\n        CRC: 541.23,    // Costa Rican Colones\n        IDR: 15045.30,  // Indonesian Rupiah\n        AUD: 1.50,    // Australian Dollar\n    }\n\n    const [exchangeRates, setExchangeRates] = useState(defaultRates);\n    const [settings, setSettings] = useState(false);\n\n    useEffect(() => {\n\n        const savedExchangeRates = JSON.parse(localStorage.getItem('exchangeRates')) || {};\n\n        const fetchRates = async () => {\n            try {\n                //const response = await fetch('https://api.exchangeratesapi.io/v1/' + endpoint + '?access_key=' + access_key + '&from=' + from + '&to=' + to + '&amount=' + amount);\n                const response = await fetch('http://localhost:3002/currency');\n                const data = await response.json();\n                console.log(`data: ${JSON.stringify(data, null, 2)}`);\n                setExchangeRates(data.rates);\n                onExchangeRatesChange(exchangeRates)\n            } catch (error) {\n                //console.error('Error fetching exchange rates:', error);\n                //setData(templateData);\n            }\n        };\n        const isObjectEmpty = (obj) => Object.keys(obj).length === 0 && obj.constructor === Object;\n        const currentExchangeRates = (!isObjectEmpty(savedExchangeRates)) ? savedExchangeRates : fetchRates();\n        \n        if (!isObjectEmpty(currentExchangeRates) && (currentExchangeRates === savedExchangeRates)) {\n            setExchangeRates(currentExchangeRates);\n            onExchangeRatesChange(exchangeRates);\n        }\n\n    }, []);\n\n    useEffect(() => {\n        localStorage.setItem('exchangeRates', JSON.stringify(exchangeRates));\n        onExchangeRatesChange(exchangeRates);\n    }, [exchangeRates]);\n\n    useEffect(() => {\n        localStorage.setItem('exchangeRates', JSON.stringify(exchangeRates));\n        onExchangeRatesChange(exchangeRates); // Invoke the callback when rates change\n    }, [exchangeRates, onExchangeRatesChange]);\n\n    const toggleSettings = () => {\n        setSettings(!settings)\n    }\n\n    const handleRateChange = (rate, value) => {\n        console.log(`handleRateChange 1 - value: ${value} rate: ${rate}`);\n        setExchangeRates(prevState => ({\n            ...prevState,\n            [rate]: value\n        }));\n        onExchangeRatesChange(exchangeRates);\n    }\n    const handleRateEnter = (e) => {\n        console.log(`handleRateEnter:1 - key: ${e.key}`);\n        if (e.key === 'Enter') {\n            console.log(`handleRateEnter:2 - key: ${e.key}`);\n            toggleSettings();\n        }\n    }\n\n    return (\n        <div>\n            <div>\n                <img className='color-yellow button' src={menu} alt=\"open menu\" onClick={() => toggleSettings()} />\n            </div>\n            {settings ? (\n                Object.keys(exchangeRates).map(rate => (\n                    <div key={rate}>\n                        <label\n                            className='p-20 m-5 color-lite bold'\n                            htmlFor={rate}\n                        >\n                            {rate}\n                        </label>\n                        <input\n                            className='p-20 m-5 color-lite bold bg-black'\n                            type=\"number\"\n                            id={rate}\n                            value={exchangeRates[rate]}\n                            onChange={e => handleRateChange(rate, e.target.value)}\n                            onKeyDown={e => handleRateEnter(e)}\n                        />\n                    </div>\n                ))\n            ) : (\n                <div></div>\n            )}\n        </div>\n    );\n\n};\n\nexport default ExchangeRatesConfig;"],"mappings":"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"},"metadata":{},"sourceType":"module"}