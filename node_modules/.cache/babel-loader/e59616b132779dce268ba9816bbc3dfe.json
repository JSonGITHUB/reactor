{"ast":null,"code":"import _regeneratorRuntime from\"/Users/js/Dev/my-first-reactor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/js/Dev/my-first-reactor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/js/Dev/my-first-reactor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import config from'./apis/config';var Translate=function Translate(_ref){var language=_ref.language,text=_ref.text;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),translated=_useState2[0],setTranslated=_useState2[1];var _useState3=useState(text),_useState4=_slicedToArray(_useState3,2),debouncedText=_useState4[0],setDebouncedText=_useState4[1];useEffect(function(){var timerId=setTimeout(function(){setDebouncedText(text);},800);return function(){clearTimeout(timerId);};},[text]);useEffect(function(){var getTranslation=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var proxyurl,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:proxyurl=\"https://cors-anywhere.herokuapp.com/\";_context.next=3;return axios.post(proxyurl+config.googleAPI_BASE_URL,{},{params:{q:debouncedText,target:language.value,key:config.googleAPI_KEY}}/*\n                                headers: {\"X-HTTP-Method-Override\":\"GET\"},\n                                url: \"https://www.googleapis.com/language/translate/v2\",\n                                dataType: \"jsonp\",\n                                data: { key: config.googleAPI_KEY,\n                                        source: SOURCE_LANGUAGE,\n                                        target: language.value,\n                                        q: debouncedText },\n                                success: function(result){\n                                    if(!result.error){\n                                    // translated text in \n                                    // result.data.translations[0].translatedText\n                                    }\n                                }\n                */);case 3:_yield$axios$post=_context.sent;data=_yield$axios$post.data;setTranslated(data.data.translations[0].translatedText);case 6:case\"end\":return _context.stop();}}},_callee);}));return function getTranslation(){return _ref2.apply(this,arguments);};}();getTranslation();},[language,debouncedText]);return/*#__PURE__*/React.createElement(\"div\",{className:\"ui bg-dkGreen color-neogreen p-10 r-5 mt-5\"},translated);};export default Translate;","map":{"version":3,"sources":["/Users/js/Dev/my-first-reactor/src/components/Translate.js"],"names":["React","useState","useEffect","axios","config","Translate","language","text","translated","setTranslated","debouncedText","setDebouncedText","timerId","setTimeout","clearTimeout","getTranslation","proxyurl","post","googleAPI_BASE_URL","params","q","target","value","key","googleAPI_KEY","data","translations","translatedText"],"mappings":"4bAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,eAAnB,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAsB,IAApBC,CAAAA,QAAoB,MAApBA,QAAoB,CAAVC,IAAU,MAAVA,IAAU,eACAN,QAAQ,CAAC,EAAD,CADR,wCAC7BO,UAD6B,eACjBC,aADiB,8BAEMR,QAAQ,CAACM,IAAD,CAFd,yCAE7BG,aAF6B,eAEdC,gBAFc,eAIpCT,SAAS,CAAC,UAAM,CACZ,GAAMU,CAAAA,OAAO,CAAGC,UAAU,CAAC,UAAM,CAC7BF,gBAAgB,CAACJ,IAAD,CAAhB,CACH,CAFyB,CAEvB,GAFuB,CAA1B,CAGA,MAAO,WAAM,CACTO,YAAY,CAACF,OAAD,CAAZ,CACH,CAFD,CAGH,CAPQ,CAOP,CAACL,IAAD,CAPO,CAAT,CASAL,SAAS,CAAC,UAAM,CACZ,GAAMa,CAAAA,cAAc,2FAAG,uKACbC,QADa,CACF,sCADE,uBAEIb,CAAAA,KAAK,CAACc,IAAN,CAClBD,QAAQ,CAAGZ,MAAM,CAACc,kBADA,CAEnB,EAFmB,CAGnB,CACIC,MAAM,CAAE,CACJC,CAAC,CAAEV,aADC,CAEJW,MAAM,CAAEf,QAAQ,CAACgB,KAFb,CAGJC,GAAG,CAAEnB,MAAM,CAACoB,aAHR,CADZ,CAOA;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAxBmC,CAFJ,wCAEXC,IAFW,mBAEXA,IAFW,CA4BnBhB,aAAa,CAACgB,IAAI,CAACA,IAAL,CAAUC,YAAV,CAAuB,CAAvB,EAA0BC,cAA3B,CAAb,CA5BmB,sDAAH,kBAAdZ,CAAAA,cAAc,2CAApB,CA8BAA,cAAc,GACjB,CAhCQ,CAgCN,CAACT,QAAD,CAAWI,aAAX,CAhCM,CAAT,CAiCA,mBACI,2BAAK,SAAS,CAAC,4CAAf,EAA6DF,UAA7D,CADJ,CAGH,CAjDD,CAmDA,cAAeH,CAAAA,SAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport config from './apis/config';\n\nconst Translate = ({language, text}) => {\n    const [translated, setTranslated] = useState('');\n    const [debouncedText, setDebouncedText] = useState(text);\n    \n    useEffect(() => {\n        const timerId = setTimeout(() => {\n            setDebouncedText(text);\n        }, 800);\n        return () => {\n            clearTimeout(timerId);\n        };\n    },[text]);\n    \n    useEffect(() => {\n        const getTranslation = async () => {\n            const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n            const { data } = await axios.post(\n                (proxyurl + config.googleAPI_BASE_URL), \n                {}, \n                {\n                    params: {\n                        q: debouncedText,\n                        target: language.value,\n                        key: config.googleAPI_KEY\n                    },\n                }\n                /*\n                                headers: {\"X-HTTP-Method-Override\":\"GET\"},\n                                url: \"https://www.googleapis.com/language/translate/v2\",\n                                dataType: \"jsonp\",\n                                data: { key: config.googleAPI_KEY,\n                                        source: SOURCE_LANGUAGE,\n                                        target: language.value,\n                                        q: debouncedText },\n                                success: function(result){\n                                    if(!result.error){\n                                    // translated text in \n                                    // result.data.translations[0].translatedText\n                                    }\n                                }\n                */\n            );\n            setTranslated(data.data.translations[0].translatedText);\n        };\n        getTranslation();\n    }, [language, debouncedText]);\n    return (\n        <div className='ui bg-dkGreen color-neogreen p-10 r-5 mt-5'>{translated}</div>\n    )\n};\n\nexport default Translate;"]},"metadata":{},"sourceType":"module"}