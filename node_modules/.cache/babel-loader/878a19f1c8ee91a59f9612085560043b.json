{"ast":null,"code":"import _slicedToArray from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from\"react\";import*as actions from'../actions/types.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialTodos=[{id:\"t1\",task:\"Code\",complete:false},{id:\"t2\",task:\"Cook\",complete:false}];var todoReducer=function todoReducer(state,action){console.log(\"todoReducer => \");switch(action.type){case actions.ADD_TODO:console.log(\"ADD_TODO:\".concat(JSON.stringify(state,2,null)));return initialTodos.map(function(todo){console.log(\"1b\\ntodo: \".concat(JSON.stringify(todo,2,null)));return todo;});case actions.COMPLETE_TODO:console.log(\"COMPLETE_TODO:\");return initialTodos.map(function(todo){if(todo.id===action.id){console.log(\"1a\\ntodo.id: \".concat(todo.id,\"\\naction.id: \").concat(action.id,\"\\ntodo: \").concat(JSON.stringify(todo,2,null),\"\\ncomplete: \").concat(!todo.complete));return _objectSpread(_objectSpread({},todo),{},{complete:true});}else{console.log(\"1b\\ntodo: \".concat(JSON.stringify(todo,2,null)));return todo;}});case actions.INCOMPLETE_TODO:console.log(\"INCOMPLETE_TODO:\");return initialTodos.map(function(todo){if(todo.id===action.id){console.log(\"2a\\ntodo.id: \".concat(todo.id,\"\\naction.id: \").concat(action.id,\"\\ntodo: \").concat(JSON.stringify(todo,2,null),\"\\ncomplete: \").concat(!todo.complete));return _objectSpread(_objectSpread({},todo),{},{complete:false});}else{console.log(\"2b\\ntodo: \".concat(JSON.stringify(todo,2,null)));return todo;}});default:return state;}};var App=function App(){// eslint-disable-next-line\nvar _React$useReducer=React.useReducer(todoReducer,initialTodos),_React$useReducer2=_slicedToArray(_React$useReducer,2),todos=_React$useReducer2[0],dispatch=_React$useReducer2[1];var handleChange=function handleChange(todo){dispatch({type:todo.complete?\"INCOMPLETE_TODO\":\"COMPLETE_TODO\",id:todo.id});};var taskInterface=function taskInterface(todo){var taskClass='ml-5';if(todo.complete){taskClass=taskClass+\" color-green\";}else{taskClass=taskClass+\" color-yellow\";}return/*#__PURE__*/_jsx(\"span\",{className:taskClass,children:todo.task});};var addTask=function addTask(){var newTask=prompt(\"New task: \",'');var id='t'+String(initialTodos.length+1);console.log(\"addTask: id => \".concat(id));var newTaskObject={id:id,task:newTask,complete:false};initialTodos.push(newTaskObject);dispatch({type:\"ADD_TODO\",id:\"t\".concat(id)});console.log(\"addTask: initialTodos => \".concat(JSON.stringify(initialTodos,2,null)));};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"ul\",{children:initialTodos.map(function(todo){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"white b p-10\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:todo.complete,onChange:function onChange(){return handleChange(todo);}}),taskInterface(todo)]})})},todo.id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"button bg-dkGreen r-5 color-neogreen b p-10 m-10\",onClick:function onClick(){return addTask();},children:\"Add\"})]});};export default App;","map":{"version":3,"names":["React","actions","jsx","_jsx","jsxs","_jsxs","initialTodos","id","task","complete","todoReducer","state","action","console","log","type","ADD_TODO","concat","JSON","stringify","map","todo","COMPLETE_TODO","_objectSpread","INCOMPLETE_TODO","App","_React$useReducer","useReducer","_React$useReducer2","_slicedToArray","todos","dispatch","handleChange","taskInterface","taskClass","className","children","addTask","newTask","prompt","String","length","newTaskObject","push","Fragment","checked","onChange","onClick"],"sources":["/Users/js/Dev/my-first-reactor/src/components/Reducer.js"],"sourcesContent":["import React from \"react\";\nimport * as actions from '../actions/types.js';\n\nconst initialTodos = [\n  {\n    id: \"t1\",\n    task: \"Code\",\n    complete: false\n  },\n  {\n    id: \"t2\",\n    task: \"Cook\",\n    complete: false\n  }\n];\nconst todoReducer = (state, action) => {\n    console.log(`todoReducer => `)\n  switch (action.type) {\n    case actions.ADD_TODO:\n        console.log(`ADD_TODO:${JSON.stringify(state,2, null)}`);\n      return initialTodos.map(todo => {\n            console.log(`1b\\ntodo: ${JSON.stringify(todo, 2, null)}`)\n            return todo;\n      });\n    case actions.COMPLETE_TODO:\n        console.log(`COMPLETE_TODO:`)\n      return initialTodos.map(todo => {\n        if (todo.id === action.id) {\n            console.log(`1a\\ntodo.id: ${todo.id}\\naction.id: ${action.id}\\ntodo: ${JSON.stringify(todo, 2, null)}\\ncomplete: ${!todo.complete}`)\n          return { ...todo, complete: true };\n        } else {\n            console.log(`1b\\ntodo: ${JSON.stringify(todo, 2, null)}`)\n          return todo;\n        }\n      });\n    case actions.INCOMPLETE_TODO:\n        console.log(`INCOMPLETE_TODO:`)\n      return initialTodos.map(todo => {\n        if (todo.id === action.id) {\n            console.log(`2a\\ntodo.id: ${todo.id}\\naction.id: ${action.id}\\ntodo: ${JSON.stringify(todo, 2, null)}\\ncomplete: ${!todo.complete}`)\n          return { ...todo, complete: false };\n        } else {\n            console.log(`2b\\ntodo: ${JSON.stringify(todo, 2, null)}`)\n          return todo;\n        }\n      });\n    default:\n      return state;\n  }\n};\nconst App = () => {\n  // eslint-disable-next-line\n  let [todos, dispatch] = React.useReducer(todoReducer, initialTodos);\n  const handleChange = todo => {\n    dispatch({\n      type: todo.complete ? \"INCOMPLETE_TODO\" : \"COMPLETE_TODO\",\n      id: todo.id\n    });\n  };\n  const taskInterface = (todo) => {\n    let taskClass = 'ml-5';\n    if (todo.complete) {\n        taskClass = taskClass + \" color-green\";\n    } else {\n        taskClass = taskClass + \" color-yellow\";\n    }\n    return <span className={taskClass}>\n            {todo.task}\n        </span>\n  }\n  const addTask = () => {\n    let newTask = prompt(\"New task: \", '');\n    const id = 't'+ String(initialTodos.length+1);\n    console.log(`addTask: id => ${id}`)\n    const newTaskObject = {\n        id: id,\n        task: newTask,\n        complete: false\n    }\n    initialTodos.push(newTaskObject);\n    \n    dispatch({\n        type: \"ADD_TODO\",\n        id: `t${id}`\n    });\n    console.log(`addTask: initialTodos => ${JSON.stringify(initialTodos, 2, null)}`)\n  }\n  \n  return (\n    <React.Fragment>\n        <ul>\n        {initialTodos.map(todo => (\n            <li key={todo.id} >\n                <label>\n                    <div className='white b p-10'>\n                        <input\n                        type=\"checkbox\"\n                        checked={todo.complete}\n                        onChange={() => handleChange(todo)}\n                        />\n                        {taskInterface(todo)}\n                    </div>\n                </label>\n            </li>\n        ))}\n        </ul>\n        <div className=\"button bg-dkGreen r-5 color-neogreen b p-10 m-10\" \n        onClick={() => addTask()}>Add</div>\n    </React.Fragment>\n  );\n};\n\nexport default App;"],"mappings":"uOAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,GAAK,CAAAC,OAAO,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,GAAM,CAAAC,YAAY,CAAG,CACnB,CACEC,EAAE,CAAE,IAAI,CACRC,IAAI,CAAE,MAAM,CACZC,QAAQ,CAAE,KACZ,CAAC,CACD,CACEF,EAAE,CAAE,IAAI,CACRC,IAAI,CAAE,MAAM,CACZC,QAAQ,CAAE,KACZ,CAAC,CACF,CACD,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,KAAK,CAAEC,MAAM,CAAK,CACnCC,OAAO,CAACC,GAAG,kBAAkB,CAAC,CAChC,OAAQF,MAAM,CAACG,IAAI,EACjB,IAAK,CAAAd,OAAO,CAACe,QAAQ,CACjBH,OAAO,CAACC,GAAG,aAAAG,MAAA,CAAaC,IAAI,CAACC,SAAS,CAACR,KAAK,CAAC,CAAC,CAAE,IAAI,CAAC,CAAE,CAAC,CAC1D,MAAO,CAAAL,YAAY,CAACc,GAAG,CAAC,SAAAC,IAAI,CAAI,CAC1BR,OAAO,CAACC,GAAG,cAAAG,MAAA,CAAcC,IAAI,CAACC,SAAS,CAACE,IAAI,CAAE,CAAC,CAAE,IAAI,CAAC,CAAE,CAAC,CACzD,MAAO,CAAAA,IAAI,CACjB,CAAC,CAAC,CACJ,IAAK,CAAApB,OAAO,CAACqB,aAAa,CACtBT,OAAO,CAACC,GAAG,iBAAiB,CAAC,CAC/B,MAAO,CAAAR,YAAY,CAACc,GAAG,CAAC,SAAAC,IAAI,CAAI,CAC9B,GAAIA,IAAI,CAACd,EAAE,GAAKK,MAAM,CAACL,EAAE,CAAE,CACvBM,OAAO,CAACC,GAAG,iBAAAG,MAAA,CAAiBI,IAAI,CAACd,EAAE,kBAAAU,MAAA,CAAgBL,MAAM,CAACL,EAAE,aAAAU,MAAA,CAAWC,IAAI,CAACC,SAAS,CAACE,IAAI,CAAE,CAAC,CAAE,IAAI,CAAC,iBAAAJ,MAAA,CAAe,CAACI,IAAI,CAACZ,QAAQ,CAAE,CAAC,CACtI,OAAAc,aAAA,CAAAA,aAAA,IAAYF,IAAI,MAAEZ,QAAQ,CAAE,IAAI,GAClC,CAAC,IAAM,CACHI,OAAO,CAACC,GAAG,cAAAG,MAAA,CAAcC,IAAI,CAACC,SAAS,CAACE,IAAI,CAAE,CAAC,CAAE,IAAI,CAAC,CAAE,CAAC,CAC3D,MAAO,CAAAA,IAAI,CACb,CACF,CAAC,CAAC,CACJ,IAAK,CAAApB,OAAO,CAACuB,eAAe,CACxBX,OAAO,CAACC,GAAG,mBAAmB,CAAC,CACjC,MAAO,CAAAR,YAAY,CAACc,GAAG,CAAC,SAAAC,IAAI,CAAI,CAC9B,GAAIA,IAAI,CAACd,EAAE,GAAKK,MAAM,CAACL,EAAE,CAAE,CACvBM,OAAO,CAACC,GAAG,iBAAAG,MAAA,CAAiBI,IAAI,CAACd,EAAE,kBAAAU,MAAA,CAAgBL,MAAM,CAACL,EAAE,aAAAU,MAAA,CAAWC,IAAI,CAACC,SAAS,CAACE,IAAI,CAAE,CAAC,CAAE,IAAI,CAAC,iBAAAJ,MAAA,CAAe,CAACI,IAAI,CAACZ,QAAQ,CAAE,CAAC,CACtI,OAAAc,aAAA,CAAAA,aAAA,IAAYF,IAAI,MAAEZ,QAAQ,CAAE,KAAK,GACnC,CAAC,IAAM,CACHI,OAAO,CAACC,GAAG,cAAAG,MAAA,CAAcC,IAAI,CAACC,SAAS,CAACE,IAAI,CAAE,CAAC,CAAE,IAAI,CAAC,CAAE,CAAC,CAC3D,MAAO,CAAAA,IAAI,CACb,CACF,CAAC,CAAC,CACJ,QACE,MAAO,CAAAV,KAAK,CAChB,CACF,CAAC,CACD,GAAM,CAAAc,GAAG,CAAG,QAAN,CAAAA,GAAGA,CAAA,CAAS,CAChB;AACA,IAAAC,iBAAA,CAAwB1B,KAAK,CAAC2B,UAAU,CAACjB,WAAW,CAAEJ,YAAY,CAAC,CAAAsB,kBAAA,CAAAC,cAAA,CAAAH,iBAAA,IAA9DI,KAAK,CAAAF,kBAAA,IAAEG,QAAQ,CAAAH,kBAAA,IACpB,GAAM,CAAAI,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAGX,IAAI,CAAI,CAC3BU,QAAQ,CAAC,CACPhB,IAAI,CAAEM,IAAI,CAACZ,QAAQ,CAAG,iBAAiB,CAAG,eAAe,CACzDF,EAAE,CAAEc,IAAI,CAACd,EACX,CAAC,CAAC,CACJ,CAAC,CACD,GAAM,CAAA0B,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAIZ,IAAI,CAAK,CAC9B,GAAI,CAAAa,SAAS,CAAG,MAAM,CACtB,GAAIb,IAAI,CAACZ,QAAQ,CAAE,CACfyB,SAAS,CAAGA,SAAS,CAAG,cAAc,CAC1C,CAAC,IAAM,CACHA,SAAS,CAAGA,SAAS,CAAG,eAAe,CAC3C,CACA,mBAAO/B,IAAA,SAAMgC,SAAS,CAAED,SAAU,CAAAE,QAAA,CACzBf,IAAI,CAACb,IAAI,CACR,CAAC,CACb,CAAC,CACD,GAAM,CAAA6B,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CACpB,GAAI,CAAAC,OAAO,CAAGC,MAAM,CAAC,YAAY,CAAE,EAAE,CAAC,CACtC,GAAM,CAAAhC,EAAE,CAAG,GAAG,CAAEiC,MAAM,CAAClC,YAAY,CAACmC,MAAM,CAAC,CAAC,CAAC,CAC7C5B,OAAO,CAACC,GAAG,mBAAAG,MAAA,CAAmBV,EAAE,CAAE,CAAC,CACnC,GAAM,CAAAmC,aAAa,CAAG,CAClBnC,EAAE,CAAEA,EAAE,CACNC,IAAI,CAAE8B,OAAO,CACb7B,QAAQ,CAAE,KACd,CAAC,CACDH,YAAY,CAACqC,IAAI,CAACD,aAAa,CAAC,CAEhCX,QAAQ,CAAC,CACLhB,IAAI,CAAE,UAAU,CAChBR,EAAE,KAAAU,MAAA,CAAMV,EAAE,CACd,CAAC,CAAC,CACFM,OAAO,CAACC,GAAG,6BAAAG,MAAA,CAA6BC,IAAI,CAACC,SAAS,CAACb,YAAY,CAAE,CAAC,CAAE,IAAI,CAAC,CAAE,CAAC,CAClF,CAAC,CAED,mBACED,KAAA,CAACL,KAAK,CAAC4C,QAAQ,EAAAR,QAAA,eACXjC,IAAA,OAAAiC,QAAA,CACC9B,YAAY,CAACc,GAAG,CAAC,SAAAC,IAAI,qBAClBlB,IAAA,OAAAiC,QAAA,cACIjC,IAAA,UAAAiC,QAAA,cACI/B,KAAA,QAAK8B,SAAS,CAAC,cAAc,CAAAC,QAAA,eACzBjC,IAAA,UACAY,IAAI,CAAC,UAAU,CACf8B,OAAO,CAAExB,IAAI,CAACZ,QAAS,CACvBqC,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAd,YAAY,CAACX,IAAI,CAAC,EAAC,CAClC,CAAC,CACDY,aAAa,CAACZ,IAAI,CAAC,EACnB,CAAC,CACH,CAAC,EAVHA,IAAI,CAACd,EAWV,CAAC,EACR,CAAC,CACE,CAAC,cACLJ,IAAA,QAAKgC,SAAS,CAAC,kDAAkD,CACjEY,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAV,OAAO,CAAC,CAAC,EAAC,CAAAD,QAAA,CAAC,KAAG,CAAK,CAAC,EACvB,CAAC,CAErB,CAAC,CAED,cAAe,CAAAX,GAAG"},"metadata":{},"sourceType":"module"}