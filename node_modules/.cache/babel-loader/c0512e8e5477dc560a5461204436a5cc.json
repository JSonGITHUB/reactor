{"ast":null,"code":"var _jsxFileName = \"/Users/js/Dev/my-first-reactor/src/components/shop/Shop.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport getKey from '../utils/KeyGenerator.js';\nimport menu from '../../assets/images/menuYellow.png';\n// eslint-disable-next-line\nimport { BsFillGearFill } from \"react-icons/bs\";\nimport Selected from '../../assets/images/cart.png';\nimport Select from '../../assets/images/addToCart.png';\nimport SettingsMenu from './SettingsMenu.js';\nimport ProductEntry from './ProductEntry.js';\nimport SearchBar from '../utils/SearchBar';\nimport '../../assets/css/shop.css';\nimport debounceType from '../utils/DebouncerType.js';\nimport initData from './initData.js';\nimport InCart from '../../assets/images/inCart.png';\nimport PutInCart from '../../assets/images/putInCart.png';\nimport Selector from '../forms/FunctionalSelector.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Shop = () => {\n  _s();\n  const [itemEntry, setItemEntry] = useState('');\n  const today = new Date();\n  const itemMenuDefault = ['', 'ADD INDEX', 'EDIT', 'PRICE', 'DELETE'];\n  const getTodos = () => localStorage.getItem('vueTodos') ? JSON.parse(localStorage.getItem('vueTodos')) : initData;\n  const aislesInit = ['Vons', 'Sprouts', 'Smart and Final'];\n  const getAisles = () => localStorage.getItem('aisles') !== null ? JSON.parse(localStorage.getItem('aisles')) : aislesInit;\n  const pad = (n, width, z) => {\n    //pad(10, 4) => 0010\n    z = z || '0';\n    n = n + '';\n    return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\n  };\n  const getColors = aisles => {\n    const colors = [];\n    let aisleColor = '';\n    aisles = aisles !== null ? aisles : aislesInit;\n    //console.log(`getColors() => \\naisles: ${aisles}`);\n    aisles.forEach(aisle => {\n      aisleColor = Math.floor(Math.random() * 16777215).toString(16).toUpperCase();\n      aisleColor = pad(aisleColor, 6);\n      //console.log(`getColors => \\naisleColor: ${aisleColor}\\naisleColorLength: ${aisleColor.length}`)\n      colors.push(`#${aisleColor}`);\n    });\n    //console.log(`getColors => colors: ${colors}`)\n    return colors;\n  };\n  const [status, setStatus] = useState({\n    displaySettings: false,\n    displayProductEntry: false,\n    search: '',\n    list: /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }, this),\n    fontSize: 25,\n    tax: 8.75,\n    todos: getTodos(),\n    aisles: getAisles(),\n    colors: getColors(getAisles()),\n    retrievedData: getTodos(),\n    ogTitle: '',\n    newTodoText: '',\n    total: 0,\n    taxTotal: 0,\n    items: 0,\n    totalItems: 0,\n    sortByIndex: true,\n    item: ''\n  });\n  //console.log(`todos: ${JSON.stringify(status.todos, null, 2)}`)\n  localStorage.setItem('vueTodosSaved', JSON.stringify(status.todos));\n  localStorage.setItem('vueTodos', JSON.stringify(status.todos));\n  //console.log(`vueTodosSaved(1): ${JSON.stringify(JSON.parse(localStorage.getItem('vueTodosSaved')),null,2)}`);\n  const aisleIndex = aisle => status.aisles === undefined ? 0 : status.aisles.indexOf(aisle);\n  const getColor = aisle => {\n    //const index = aisleIndex(aisle);\n    //console.log(`getColor => \\nindex: ${index}\\naisle: ${aisle}\\ncolors: ${status.colors}\\ncolor: ${status.colors[aisleIndex(aisle)]}`)\n    return status.colors[aisleIndex(aisle)];\n  };\n  const getInCartButton = index => {\n    //console.log(`getInCartButton =>\\nindex: ${index}\\ntodo: ${JSON.stringify(status.todos[index],null,2)}`)\n    return /*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"inCartIcon\",\n      alt: \"in cart\",\n      src: status.todos[index].cart ? InCart : PutInCart,\n      onClick: () => toggleCart(index)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this);\n  };\n  const quantities = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\n  const toggleTax = index => {\n    const newTodos = status.todos;\n    newTodos.forEach(item => {\n      if (item.title === status.todos[index].title) {\n        item.tax = !status.todos[index].tax;\n      }\n    });\n    localStorage.setItem('vueTodos', JSON.stringify(newTodos));\n    localStorage.setItem('vueTodosSaved', JSON.stringify(newTodos));\n    //console.log(`vueTodosSaved(8): ${JSON.stringify(JSON.parse(localStorage.getItem('vueTodosSaved')),null,2)}`)\n    setStatus(prevState => ({\n      ...prevState,\n      todos: JSON.parse(localStorage.getItem('vueTodos')),\n      retrievedData: JSON.parse(localStorage.getItem('vueTodosSaved'))\n    }));\n    getTotal();\n  };\n  const toggleCart = index => {\n    const newTodos = status.todos;\n    if (newTodos[index].cart) {\n      newTodos[index].cart = false;\n    } else {\n      newTodos[index].cart = true;\n    }\n    setStatus(prevState => ({\n      ...prevState,\n      todos: newTodos\n    }));\n    getTotal();\n  };\n  const getTaxCheckBox = (todo, index) => {\n    if (todo.tax) {\n      return /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"regular-checkbox button glassy\",\n        checked: true,\n        type: \"checkbox\",\n        id: \"tax\",\n        onChange: () => toggleTax(index)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 20\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"regular-checkbox button glassy\",\n        type: \"checkbox\",\n        id: \"tax\",\n        onChange: () => toggleTax(index)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 20\n      }, this);\n    }\n  };\n  const updateQuantity = (groupTitle, id, selected) => {\n    //console.log(`updateQuantity =>\\ngroupTitle: ${groupTitle}\\n, \\nindex: ${id}, \\nselected: ${selected}`);\n    const updatedTodos = status.todos;\n    updatedTodos.forEach((item, index) => {\n      if (id === index) {\n        item.quantity = Number(selected);\n      } else if (typeof item.quantity === 'undefined') {\n        item.quantity = quantities[1];\n      }\n    });\n    setStatus(prevState => ({\n      ...prevState,\n      todos: updatedTodos\n    }));\n    getTotal();\n    //window.location.pathname = \"/reactor/Shop\";\n  };\n\n  const reIndex = (groupTitle, index, selectedAisle) => {\n    //console.log(`REINDEX => \\nselectedAisle: ${selectedAisle}\\nindex: ${index}`);\n    const updatedTodos = status.todos;\n    const updatedRetrievedData = JSON.parse(localStorage.getItem('vueTodosSaved'));\n    let newAisles = status.aisles || aislesInit;\n    if (selectedAisle === 'DELETE') {\n      updatedRetrievedData.forEach(item => {\n        if (item.title === status.todos[index].title) {\n          updatedRetrievedData.splice(index, 1);\n        }\n      });\n      localStorage.setItem('vueTodosSaved', JSON.stringify(updatedRetrievedData));\n      //console.log(`vueTodosSaved(4): ${JSON.stringify(JSON.parse(localStorage.getItem('vueTodosSaved')),null,2)}`)\n      updatedTodos.splice(index, 1);\n    } else if (selectedAisle === 'PRICE') {\n      updatedTodos[index].price = Number(prompt('Enter price:', '')).toFixed(2);\n      updatedRetrievedData.forEach(item => {\n        if (item.title === updatedTodos[index].title) {\n          item.price = updatedTodos[index].price;\n          updatedTodos[index].aisle = item.aisle;\n        }\n        ;\n      });\n      localStorage.setItem('vueTodosSaved', JSON.stringify(updatedRetrievedData));\n      //console.log(`vueTodosSaved(5): ${JSON.stringify(JSON.parse(localStorage.getItem('vueTodosSaved')))}`);\n    } else if (selectedAisle === 'EDIT') {\n      let updatedOgTitle = status.ogTitle;\n      updatedOgTitle = updatedTodos[index].title;\n      updatedTodos[index].title = prompt('Enter new label:', updatedTodos[index].title);\n      updatedRetrievedData.forEach(item => {\n        if (item.title === updatedOgTitle) {\n          item.title = updatedTodos[index].title;\n          selectedAisle = item.aisle;\n        }\n        ;\n      });\n      updatedTodos[index].aisle = selectedAisle;\n      //updateAisles();\n      localStorage.setItem('vueTodosSaved', JSON.stringify(updatedRetrievedData));\n      //console.log(`vueTodosSaved(6): ${JSON.stringify(JSON.parse(localStorage.getItem('vueTodosSaved')),null,2)}`)\n    } else {\n      newAisles = status.aisles || aislesInit;\n      if (selectedAisle === 'ADD INDEX') {\n        selectedAisle = prompt('Enter aisle number:', '');\n        if (newAisles.indexOf(selectedAisle) < 0) {\n          newAisles.push(selectedAisle);\n        }\n      }\n      updatedTodos[index].aisle = selectedAisle;\n      updatedRetrievedData.forEach(item => {\n        if (item.title === updatedTodos[index].title) {\n          item.aisle = selectedAisle;\n        }\n      });\n      localStorage.setItem('aisles', JSON.stringify(newAisles));\n      localStorage.setItem('vueTodosSaved', JSON.stringify(updatedRetrievedData));\n      localStorage.setItem('vueTodos', JSON.stringify(updatedRetrievedData));\n      //console.log(`vueTodosSaved(7): ${JSON.stringify(JSON.parse(localStorage.getItem('vueTodosSaved')),null,2)}`)\n      getTotal();\n      updateAisles();\n      //window.location.pathname = \"/reactor/Shop\";\n    }\n\n    updateAisles();\n    localStorage.setItem('vueTodos', JSON.stringify(updatedTodos));\n    setStatus(prevState => ({\n      ...prevState,\n      todos: updatedTodos,\n      aisles: newAisles,\n      retrievedData: JSON.parse(localStorage.getItem('vueTodosSaved')),\n      ogTitle: selectedAisle === 'EDIT' ? '' : status.ogTitle\n    }));\n  };\n  const getSelectors = (todo, index, aisleColor) => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"itemSelectors\",\n      style: {\n        backgroundColor: aisleColor\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button\",\n            children: getInCartButton(index)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"size20 m-10\",\n            children: [\"$\", todo.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Days\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lastPurchaseDays flexOneFifthColumn\",\n            children: todo.days\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-5\",\n            children: \"Tax\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 25\n          }, this), getTaxCheckBox(todo, index)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-5 button\",\n            children: \"Count\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Selector, {\n            groupTitle: \"Count\"\n            //selected={todo.quantity} \n            ,\n            selected: status.todos[index].quantity,\n            label: index,\n            items: quantities,\n            onChange: updateQuantity,\n            padding: \"5px\",\n            fontSize: \"15\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"aisle flexTwoFourthColumn\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-5\",\n            children: \"Aisle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Selector, {\n            groupTitle: \"Aisle\",\n            selected: todo.aisle,\n            label: index,\n            items: itemMenuDefault.concat(status.aisles) || itemMenuDefault.concat(aislesInit),\n            onChange: reIndex,\n            padding: \"5px\",\n            fontSize: \"15\",\n            maxWidth: \"115px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }, this);\n  };\n  const daItem = (todo, index) => {\n    //console.log(`daItem =>\\ntodo: ${JSON.stringify(todo, null, 2)}\\nindex: ${index}`);\n\n    const shopNavClasses = () => todo.select ? 'itemRemove glassyShopNav' : 'itemRemove';\n    const titleClasses = () => todo.select ? 'title white' : 'title';\n    const aisleColor = getColor(todo.aisle);\n    if (todo !== undefined) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"height1px\",\n          style: {\n            backgroundColor: aisleColor\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: shopNavClasses(),\n          onClick: () => toggleSelect(index),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: titleClasses(),\n            children: status.todos[index].title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 25\n          }, this), getSelectIcon(index)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 21\n        }, this), getSelectors(todo, index, aisleColor)]\n      }, getKey(status.todos[index].title), true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"height1px\",\n          style: {\n            backgroundColor: aisleColor\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: shopNavClasses(),\n          onClick: () => toggleSelect(index),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: titleClasses(),\n            children: status.todos[index].title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 25\n          }, this), getSelectIcon(index)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 21\n        }, this), getSelectors(todo, index, aisleColor)]\n      }, getKey(status.todos[index].title), true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 17\n      }, this);\n    }\n  };\n  const getItems = context => {\n    const newAisles = status.aisles !== undefined ? status.aisles : aislesInit;\n    let newList = /*#__PURE__*/_jsxDEV(React.Fragment, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 23\n    }, this);\n    //console.log(`daList => todos: ${JSON.stringify(status.todos, null,2)}`);\n    const pushNewAisle = aisle => newAisles.indexOf(aisle) > -1 ? '' : newAisles.push(aisle);\n    /*\n    status.todos.forEach((todo,index) => {\n        pushNewAisle(todo.aisle);\n        //console.log(`daList =>\\nnewAisles: ${newAisles}\\nquantities: ${todo.quantity}\\ntitle: ${todo.title}\\ndays: ${todo.days}\\nprice: ${todo.price}\\ntax: ${todo.tax}\\nquantity: ${todo.quantity}`)\n        newList = <div>\n                {newList}\n                {daItem(todo, index)}\n            </div>;\n    })\n    */\n    const filteredTodos = status.todos.filter(todo => {\n      return todo.title.toLowerCase().includes(status.search.toLowerCase());\n    });\n    filteredTodos.forEach((todo, index) => {\n      pushNewAisle(todo.aisle);\n      newList = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [newList, daItem(todo, index)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 23\n      }, this);\n    });\n\n    //console.log(`daList => newList: ${JSON.stringify(newList,null,2)}`)\n    localStorage.setItem('aisles', JSON.stringify(newAisles));\n    if (context === 'display') {\n      return newList;\n    } else if (context === 'effect') {\n      //console.log(`useEffect => newAisles: ${newAisles}`)\n      setStatus(prevState => ({\n        ...prevState,\n        list: newList,\n        aisles: newAisles\n      }));\n    }\n  };\n  useEffect(() => {\n    getItems('effect');\n    getTotal();\n  }, [status.todos]);\n  useEffect(() => {\n    updateAisles();\n  }, []);\n  useEffect(() => {\n    getTotal();\n  }, [status.tax]);\n  const sortArray = array => {\n    const filtered = array.filter(function (el) {\n      return el != null;\n    });\n    //console.log(`sortArray => filtered: ${filtered}`)\n\n    const alphabetic = [];\n    const numeric = [];\n    filtered.forEach(item => {\n      if (Number(item.substring(0, 1)) > 0) {\n        numeric.push(item);\n      } else {\n        alphabetic.push(item);\n      }\n    });\n    alphabetic.sort();\n    numeric.sort(function (a, b) {\n      return a - b;\n    });\n    array = [];\n    alphabetic.forEach(item => {\n      if (array.indexOf(item) < 0) {\n        array.push(item);\n      }\n    });\n    numeric.forEach(item => array.push(item));\n    return array;\n  };\n  const getTotal = () => {\n    let newTotal = 0;\n    let subtotal = 0;\n    let newTax = 0;\n    let newTaxTotal = 0;\n    let updatedTodos = status.todos;\n    let updatesItems = 0;\n    let updatedTotalItems = 0;\n    updatedTodos.forEach(item => {\n      if (typeof item.price !== 'undefined' && item.cart) {\n        updatesItems++;\n        updatedTotalItems = Number(updatedTotalItems) + Number(item.quantity);\n        subtotal = parseFloat(Number(item.price)) * Number(item.quantity);\n        if (item.tax) {\n          newTax = subtotal * (Number(status.tax) * .01);\n          newTaxTotal = newTaxTotal + newTax;\n          subtotal = subtotal + newTax;\n        }\n        newTotal = parseFloat(Number(newTotal)) + subtotal;\n      }\n    });\n    //localStorage.setItem('vueTodos', JSON.stringify(status.todos));\n    newTotal = Math.round(newTotal * 100) / 100;\n    newTotal = newTotal.toFixed(2);\n    newTaxTotal = newTaxTotal.toFixed(2);\n    setStatus(prevState => ({\n      ...prevState,\n      totalItems: updatedTotalItems,\n      items: updatesItems,\n      total: newTotal,\n      taxTotal: newTaxTotal\n      //tax: newTax\n    }));\n  };\n\n  const sortName = () => {\n    let sortedTodos = status.todos;\n    sortedTodos.sort(function (a, b) {\n      let x = a.title.toLowerCase();\n      let y = b.title.toLowerCase();\n      if (x < y) {\n        return -1;\n      }\n      if (x > y) {\n        return 1;\n      }\n      return 0;\n    });\n    setStatus(prevState => ({\n      ...prevState,\n      todos: sortedTodos\n    }));\n  };\n  const updateItem = item => {\n    setStatus(prevState => ({\n      ...prevState,\n      item: item\n    }));\n  };\n  const updateAisles = () => {\n    let colors = [];\n    let todoSort = [];\n    let inactiveTodos = [];\n    let newAisles = status.aisles || aislesInit;\n    const updatedTodos = status.todos;\n    updatedTodos.forEach(todo => {\n      if (newAisles.indexOf(todo.aisle) < 0) {\n        newAisles.push(todo.aisle);\n      }\n    });\n    newAisles = sortArray(newAisles);\n    localStorage.setItem('aisles', JSON.stringify(newAisles));\n    colors = getColors(newAisles);\n    newAisles.forEach(aisle => {\n      updatedTodos.forEach(todo => {\n        if (todo.aisle === aisle && todo.select) {\n          todoSort.push(todo);\n        } else if (todo.aisle === aisle && !todo.select) {\n          inactiveTodos.push(todo);\n        }\n      });\n    });\n    //console.log(`updateAisles => !!!!!!!!!!\\ntodoSort: ${JSON.stringify(todoSort, null,2)}\\ninactiveTodos: ${inactiveTodos}`)\n    inactiveTodos.forEach(todo => todoSort.push(todo));\n    setStatus(prevState => ({\n      ...prevState,\n      todos: todoSort,\n      aisles: newAisles,\n      colors: colors\n    }));\n  };\n  const setEntry = value => {\n    console.log(`setEntry ${value}`);\n    debounceType(setItemEntry, value);\n    setStatus(prevState => ({\n      ...prevState,\n      displayProductEntry: false,\n      displaySettings: false,\n      search: value,\n      item: value\n    }));\n  };\n  const addTodo = () => {\n    //e.preventDefault();\n    console.log(`addTodo =>\\nitemEntry: ${itemEntry}`);\n    const updatedTodos = status.todos;\n    let updatedRetrievedData = status.retrievedData;\n    const updatedAisles = status.aisles || aislesInit;\n    let newPriceUpdate = 0;\n    let newItem = {};\n    if (itemEntry) {\n      //onClick={() => toggleProductEntry()}\n      //const newAisle = prompt('Enter aisle number:', '');\n      const newAisle = 'Walmart';\n      if (updatedAisles.indexOf(newAisle) < 0) {\n        updatedAisles.push(newAisle);\n      }\n      //newPriceUpdate = prompt('Enter price:', '');\n\n      newItem = {\n        title: itemEntry,\n        aisle: newAisle,\n        price: Number(newPriceUpdate).toFixed(2),\n        quantity: 1,\n        tax: false,\n        cart: true,\n        select: true,\n        lastPurchase: today,\n        days: 0\n      };\n      updatedTodos.push(newItem);\n      updatedRetrievedData.push(newItem);\n      localStorage.setItem('vueTodos', JSON.stringify(updatedRetrievedData));\n      if (!localStorage.getItem('vueTodosSaved')) {\n        localStorage.setItem('vueTodosSaved', JSON.stringify(updatedTodos));\n        //console.log(`vueTodosSaved(2): ${JSON.stringify(JSON.parse(localStorage.getItem('vueTodosSaved')),null,2)}`);                \n      } else {\n        updatedRetrievedData = JSON.parse(localStorage.getItem('vueTodosSaved'));\n        updatedRetrievedData.push(newItem);\n        localStorage.setItem('vueTodosSaved', JSON.stringify(updatedRetrievedData));\n        //console.log(`vueTodosSaved(3): ${JSON.stringify(JSON.parse(localStorage.getItem('vueTodosSaved')),null,2)}`);\n      }\n\n      const newTodos = JSON.parse(localStorage.getItem('vueTodosSaved'));\n      const newRetrievedData = localStorage.getItem('vueTodosSaved') ? JSON.parse(localStorage.getItem('vueTodosSaved')) : JSON.parse(localStorage.getItem('vueTodos'));\n      setStatus(prevState => ({\n        ...prevState,\n        newTodoText: itemEntry,\n        aisles: updatedAisles,\n        retrievedData: newRetrievedData,\n        todos: newTodos\n      }));\n      //updateAisles();\n      //setNewTodoText('');\n      getTotal();\n      //setItemEntry('');\n    }\n  };\n\n  const toggleSelect = id => {\n    const updatedTodos = status.todos;\n    updatedTodos.forEach((item, index) => {\n      if (item.title === updatedTodos[id].title) {\n        if (updatedTodos[id].select) {\n          updatedTodos[index].select = false;\n          updatedTodos[index].cart = false;\n        } else {\n          updatedTodos[index].lastPurchase = today;\n          updatedTodos[index].days = 1;\n          updatedTodos[index].select = true;\n        }\n      }\n    });\n    localStorage.setItem('vueTodos', JSON.stringify(updatedTodos));\n    setStatus(prevState => ({\n      ...prevState,\n      todos: JSON.parse(localStorage.getItem('vueTodos'))\n    }));\n    getTotal();\n    updateAisles();\n  };\n  const revert = () => {\n    const revertData = JSON.parse(localStorage.getItem('vueTodosRevert'));\n\n    //console.log(`revertData: ${JSON.stringify(revertData, null, 2)}`)\n    localStorage.setItem('vueTodos', JSON.stringify(revertData));\n    setStatus(prevState => ({\n      ...prevState,\n      todos: revertData,\n      retrievedData: revertData,\n      displaySettings: false,\n      displayProductEntry: false\n    }));\n    //itemMenuDefault.forEach(aisle => newAisles.push(aisle));\n    //setAisles(newAisles);\n    //updateAisles();\n    getTotal();\n  };\n  const save = () => {\n    localStorage.setItem('vueTodosSaved', JSON.stringify(status.todos));\n    //console.log(`vueTodosSaved(9): ${JSON.stringify(JSON.parse(localStorage.getItem('vueTodosSaved')),null,2)}`)\n    setStatus(prevState => ({\n      ...prevState,\n      displaySettings: false,\n      displayProductEntry: false\n    }));\n  };\n  const restore = () => {\n    const newAisles = status.aisles || aislesInit;\n    itemMenuDefault.forEach(aisle => newAisles.push(aisle));\n    updateAisles();\n    localStorage.setItem('vueTodos', JSON.stringify(status.retrievedData));\n    setStatus(prevState => ({\n      ...prevState,\n      todos: status.retrievedData,\n      aisles: newAisles,\n      retrievedData: JSON.parse(localStorage.getItem('vueTodosSaved')),\n      displaySettings: false,\n      displayProductEntry: false\n    }));\n  };\n  const getSelectIcon = index => /*#__PURE__*/_jsxDEV(\"img\", {\n    className: \"cart\",\n    alt: \"select\",\n    src: status.todos[index].select ? Selected : Select\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 590,\n    columnNumber: 38\n  }, this);\n  const setTax = () => {\n    setStatus(prevState => ({\n      ...prevState,\n      tax: localStorage.getItem('tax')\n    }));\n  };\n  const toggleSettings = () => {\n    //console.log(`toggleSettings => displaySettings: ${status.displaySettings}`)\n    setStatus(prevState => ({\n      ...prevState,\n      displaySettings: !status.displaySettings\n    }));\n  };\n  const toggleProductEntry = () => {\n    //console.log(`toggleProductEntry => displayProductEntry: ${status.displayProductEntry}`)\n    setStatus(prevState => ({\n      ...prevState,\n      displayProductEntry: !status.displayProductEntry\n    }));\n  };\n  const clear = () => {\n    localStorage.setItem('vueTodosRevert', JSON.stringify(status.todos));\n    localStorage.removeItem('aisles', '');\n    localStorage.removeItem('vueTodos', '');\n    setStatus(prevState => ({\n      ...prevState,\n      todos: [],\n      aisles: []\n    }));\n    getTotal();\n  };\n  const totals = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"total \",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"totalItems\",\n      children: [\"Items: \", status.items, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 52\n      }, this), \"total: \", status.totalItems]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 627,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"totalDollars\",\n      children: [\"Tax: $ \", status.taxTotal, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 632,\n        columnNumber: 55\n      }, this), \"Total: $ \", status.total]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 631,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 626,\n    columnNumber: 20\n  }, this);\n  const getMenuHeight = status.displaySettings ? 'mt-180 visible bottomPadding' : 'mt-850 visible bottomPadding';\n  const menuClasses = !status.displaySettings && !status.displayProductEntry ? 'mt-60 visible bottomPadding' : getMenuHeight;\n  console.log(`Shop ==> REFRESH\n                    displaySettings: ${status.displaySettings}\n                    displayProductEntry: ${status.displayProductEntry}\n                `);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt--7\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input\",\n      children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n        onSubmit: addTodo,\n        onChange: setEntry,\n        label: \"Add items\",\n        term: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 646,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"settings\",\n        src: menu,\n        alt: \"open menu\",\n        onClick: () => toggleSettings()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 647,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 645,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: menuClasses,\n      children: getItems('display')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 649,\n      columnNumber: 13\n    }, this), totals, /*#__PURE__*/_jsxDEV(ProductEntry, {\n      state: status,\n      updateAisles: updateAisles,\n      save: save,\n      displayProductEntry: status.displayProductEntry,\n      Item: status.search,\n      updateItem: updateItem\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 653,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SettingsMenu, {\n      state: status,\n      updateAisles: updateAisles,\n      sortName: sortName,\n      revert: revert,\n      save: save,\n      restore: restore,\n      getTotal: getTotal,\n      setTax: setTax,\n      clear: clear\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 661,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 644,\n    columnNumber: 9\n  }, this);\n};\n_s(Shop, \"BmJTUWfrdEn5wP2GmWZmcLKEoEM=\");\n_c = Shop;\nexport default Shop;\nvar _c;\n$RefreshReg$(_c, \"Shop\");","map":{"version":3,"names":["React","useState","useEffect","getKey","menu","BsFillGearFill","Selected","Select","SettingsMenu","ProductEntry","SearchBar","debounceType","initData","InCart","PutInCart","Selector","jsxDEV","_jsxDEV","Shop","_s","itemEntry","setItemEntry","today","Date","itemMenuDefault","getTodos","localStorage","getItem","JSON","parse","aislesInit","getAisles","pad","n","width","z","length","Array","join","getColors","aisles","colors","aisleColor","forEach","aisle","Math","floor","random","toString","toUpperCase","push","status","setStatus","displaySettings","displayProductEntry","search","list","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","tax","todos","retrievedData","ogTitle","newTodoText","total","taxTotal","items","totalItems","sortByIndex","item","setItem","stringify","aisleIndex","undefined","indexOf","getColor","getInCartButton","index","className","alt","src","cart","onClick","toggleCart","quantities","toggleTax","newTodos","title","prevState","getTotal","getTaxCheckBox","todo","checked","type","id","onChange","updateQuantity","groupTitle","selected","updatedTodos","quantity","Number","reIndex","selectedAisle","updatedRetrievedData","newAisles","splice","price","prompt","toFixed","updatedOgTitle","updateAisles","getSelectors","style","backgroundColor","children","days","label","padding","concat","maxWidth","daItem","shopNavClasses","select","titleClasses","toggleSelect","getSelectIcon","getItems","context","newList","Fragment","pushNewAisle","filteredTodos","filter","toLowerCase","includes","sortArray","array","filtered","el","alphabetic","numeric","substring","sort","a","b","newTotal","subtotal","newTax","newTaxTotal","updatesItems","updatedTotalItems","parseFloat","round","sortName","sortedTodos","x","y","updateItem","todoSort","inactiveTodos","setEntry","value","console","log","addTodo","updatedAisles","newPriceUpdate","newItem","newAisle","lastPurchase","newRetrievedData","revert","revertData","save","restore","setTax","toggleSettings","toggleProductEntry","clear","removeItem","totals","getMenuHeight","menuClasses","onSubmit","term","state","Item","_c","$RefreshReg$"],"sources":["/Users/js/Dev/my-first-reactor/src/components/shop/Shop.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport getKey from '../utils/KeyGenerator.js';\nimport menu from '../../assets/images/menuYellow.png';\n// eslint-disable-next-line\nimport { BsFillGearFill } from \"react-icons/bs\";\nimport Selected from '../../assets/images/cart.png';\nimport Select from '../../assets/images/addToCart.png';\nimport SettingsMenu from './SettingsMenu.js';\nimport ProductEntry from './ProductEntry.js';\nimport SearchBar from '../utils/SearchBar';\nimport '../../assets/css/shop.css';\nimport debounceType from '../utils/DebouncerType.js';\nimport initData from './initData.js';\nimport InCart from '../../assets/images/inCart.png';\nimport PutInCart from '../../assets/images/putInCart.png';\nimport Selector from '../forms/FunctionalSelector.js';\n\nconst Shop = () => {\n    const [ itemEntry, setItemEntry ] = useState('');\n    const today = new Date();\n    const itemMenuDefault = ['', 'ADD INDEX', 'EDIT', 'PRICE', 'DELETE'];\n    const getTodos = () => (localStorage.getItem('vueTodos')) \n        ? JSON.parse(localStorage.getItem('vueTodos')) \n        : initData;\n    const aislesInit = ['Vons', 'Sprouts', 'Smart and Final'];\n    const getAisles = () => (localStorage.getItem('aisles') !== null) \n        ? JSON.parse(localStorage.getItem('aisles')) \n        : aislesInit;\n    const pad = (n, width, z) => {\n        //pad(10, 4) => 0010\n        z = z || '0';\n        n = n + '';\n        return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\n    }\n    const getColors = (aisles) => {\n        const colors = [];\n        let aisleColor = '';\n        aisles = (aisles !== null) ? aisles : aislesInit;\n        //console.log(`getColors() => \\naisles: ${aisles}`);\n        aisles.forEach(aisle => {\n            aisleColor = Math.floor(Math.random()*16777215).toString(16).toUpperCase();\n            aisleColor = pad(aisleColor, 6);\n            //console.log(`getColors => \\naisleColor: ${aisleColor}\\naisleColorLength: ${aisleColor.length}`)\n            colors.push(`#${aisleColor}`);\n        });\n        //console.log(`getColors => colors: ${colors}`)\n        return colors;\n    }\n    const [ status, setStatus ] = useState({\n        displaySettings: false,\n        displayProductEntry: false,\n        search: '',\n        list: <div></div>,\n        fontSize: 25,\n        tax: 8.75,\n        todos: getTodos(),\n        aisles: getAisles(),\n        colors: getColors(getAisles()),\n        retrievedData: getTodos(),\n        ogTitle: '',\n        newTodoText: '',\n        total: 0, \n        taxTotal: 0, \n        items: 0, \n        totalItems: 0,\n        sortByIndex: true,\n        item: ''\n    });\n    //console.log(`todos: ${JSON.stringify(status.todos, null, 2)}`)\n    localStorage.setItem('vueTodosSaved', JSON.stringify(status.todos));\n    localStorage.setItem('vueTodos', JSON.stringify(status.todos));\n    //console.log(`vueTodosSaved(1): ${JSON.stringify(JSON.parse(localStorage.getItem('vueTodosSaved')),null,2)}`);\n    const aisleIndex = (aisle) => (status.aisles === undefined) ? 0 : status.aisles.indexOf(aisle);\n    const getColor = (aisle) => {\n        //const index = aisleIndex(aisle);\n        //console.log(`getColor => \\nindex: ${index}\\naisle: ${aisle}\\ncolors: ${status.colors}\\ncolor: ${status.colors[aisleIndex(aisle)]}`)\n        return status.colors[aisleIndex(aisle)];\n    }\n    const getInCartButton = (index) => {\n        //console.log(`getInCartButton =>\\nindex: ${index}\\ntodo: ${JSON.stringify(status.todos[index],null,2)}`)\n        return (\n            <img \n                className='inCartIcon' \n                alt='in cart' \n                src={(status.todos[index].cart) ? InCart : PutInCart} \n                onClick={() => toggleCart(index)}\n            />\n        )\n    }\n    const quantities = [0,1,2,3,4,5,6,7,8,9,10];\n    const toggleTax = (index) => {          \n        const newTodos = status.todos;   \n        newTodos.forEach(item => {\n            if (item.title === status.todos[index].title) {\n                item.tax = !status.todos[index].tax;\n            }\n        });\n        localStorage.setItem('vueTodos', JSON.stringify(newTodos));\n        localStorage.setItem('vueTodosSaved', JSON.stringify(newTodos));\n        //console.log(`vueTodosSaved(8): ${JSON.stringify(JSON.parse(localStorage.getItem('vueTodosSaved')),null,2)}`)\n        setStatus(prevState => ({\n            ...prevState,\n            todos: JSON.parse(localStorage.getItem('vueTodos')),\n            retrievedData: JSON.parse(localStorage.getItem('vueTodosSaved'))\n        }));\n        getTotal();\n    };\n    const toggleCart = (index) => {\n        const newTodos = status.todos;\n        if (newTodos[index].cart) {\n            newTodos[index].cart = false;\n        } else {\n            newTodos[index].cart = true;\n        }\n        setStatus(prevState => ({\n            ...prevState,\n            todos: newTodos\n        }));\n        getTotal();\n    };\n    const getTaxCheckBox = (todo, index) => {\n        if (todo.tax) {\n            return <input className='regular-checkbox button glassy' checked type='checkbox' id='tax' onChange={() => toggleTax(index)} />\n        } else {\n            return <input className='regular-checkbox button glassy' type='checkbox' id='tax' onChange={() => toggleTax(index)} />\n        }\n    }\n    const updateQuantity = (groupTitle, id, selected) => {\n        //console.log(`updateQuantity =>\\ngroupTitle: ${groupTitle}\\n, \\nindex: ${id}, \\nselected: ${selected}`);\n        const updatedTodos = status.todos;\n        updatedTodos.forEach((item, index) => {\n            if (id === index) {\n                item.quantity = Number(selected);\n            } else if (typeof item.quantity === 'undefined') {\n                item.quantity = quantities[1];\n            }\n        });\n        setStatus(prevState => ({\n            ...prevState,\n            todos: updatedTodos\n        }));\n        getTotal();\n        //window.location.pathname = \"/reactor/Shop\";\n    \n    };\n    const reIndex = (groupTitle, index, selectedAisle) => {\n        //console.log(`REINDEX => \\nselectedAisle: ${selectedAisle}\\nindex: ${index}`);\n        const updatedTodos = status.todos;\n        const updatedRetrievedData = JSON.parse(localStorage.getItem('vueTodosSaved'));\n        let newAisles = status.aisles || aislesInit;   \n        if (selectedAisle === 'DELETE') {\n            updatedRetrievedData.forEach(item => {\n                if (item.title === status.todos[index].title) {\n                    updatedRetrievedData.splice(index, 1);\n                }\n            })\n            localStorage.setItem('vueTodosSaved', JSON.stringify(updatedRetrievedData));\n            //console.log(`vueTodosSaved(4): ${JSON.stringify(JSON.parse(localStorage.getItem('vueTodosSaved')),null,2)}`)\n            updatedTodos.splice(index, 1);\n        } else if (selectedAisle === 'PRICE') {\n            updatedTodos[index].price = Number(prompt('Enter price:', '')).toFixed(2);\n            updatedRetrievedData.forEach(item => {\n                if (item.title === updatedTodos[index].title) {\n                    item.price = updatedTodos[index].price;\n                    updatedTodos[index].aisle = item.aisle;\n                };\n            });\n            localStorage.setItem('vueTodosSaved', JSON.stringify(updatedRetrievedData));\n            //console.log(`vueTodosSaved(5): ${JSON.stringify(JSON.parse(localStorage.getItem('vueTodosSaved')))}`);\n        } else if (selectedAisle === 'EDIT') {\n            let updatedOgTitle = status.ogTitle;\n            updatedOgTitle = updatedTodos[index].title;\n            updatedTodos[index].title = prompt('Enter new label:', updatedTodos[index].title);\n            updatedRetrievedData.forEach(item => {\n                if (item.title === updatedOgTitle) {\n                    item.title = updatedTodos[index].title;\n                    selectedAisle = item.aisle;\n                };\n            });\n            updatedTodos[index].aisle = selectedAisle;\n            //updateAisles();\n            localStorage.setItem('vueTodosSaved', JSON.stringify(updatedRetrievedData));\n            //console.log(`vueTodosSaved(6): ${JSON.stringify(JSON.parse(localStorage.getItem('vueTodosSaved')),null,2)}`)\n        } else {\n            newAisles = status.aisles || aislesInit;\n            if (selectedAisle === 'ADD INDEX') {\n                selectedAisle = prompt('Enter aisle number:', '');\n                if(newAisles.indexOf(selectedAisle) < 0){\n                    newAisles.push(selectedAisle);\n                }\n            }\n            updatedTodos[index].aisle = selectedAisle;\n            updatedRetrievedData.forEach(item => {\n                if (item.title === updatedTodos[index].title) {\n                    item.aisle = selectedAisle;  \n                }\n            });\n            localStorage.setItem('aisles', JSON.stringify(newAisles));\n            localStorage.setItem('vueTodosSaved', JSON.stringify(updatedRetrievedData));\n            localStorage.setItem('vueTodos', JSON.stringify(updatedRetrievedData));\n            //console.log(`vueTodosSaved(7): ${JSON.stringify(JSON.parse(localStorage.getItem('vueTodosSaved')),null,2)}`)\n            getTotal();\n            updateAisles(); \n            //window.location.pathname = \"/reactor/Shop\";\n        }\n        updateAisles();\n        localStorage.setItem('vueTodos', JSON.stringify(updatedTodos));\n        setStatus(prevState => ({\n            ...prevState,\n            todos: updatedTodos,\n            aisles: newAisles,\n            retrievedData: JSON.parse(localStorage.getItem('vueTodosSaved')),\n            ogTitle: (selectedAisle === 'EDIT') ? '' : status.ogTitle\n        }));\n\n    }\n    const getSelectors = (todo, index, aisleColor) => {\n        return (\n            <div className='itemSelectors' style={{backgroundColor: aisleColor}}>\n                <div className='flex-container'>\n                    <div>\n                        <div className='button'>\n                            {getInCartButton(index)}\n                        </div>\n                        <div className='size20 m-10'> \n                            ${ todo.price }\n                        </div>\n                    </div>\n                    <div>\n                        <div>Days</div>\n                        <div className='lastPurchaseDays flexOneFifthColumn'>{todo.days}</div>\n                    </div>\n                    <div>\n                        <div className='mb-5'>Tax</div>\n                        {getTaxCheckBox(todo, index)}\n                    </div>\n                    <div>\n                        <div className='mb-5 button'>Count</div> \n                        <Selector\n                            groupTitle='Count'\n                            //selected={todo.quantity} \n                            selected={status.todos[index].quantity} \n                            label={index}\n                            items={quantities}\n                            onChange={updateQuantity}\n                            padding='5px'\n                            fontSize='15'\n                        />\n                    </div>\n                    <div id='aisle flexTwoFourthColumn' >\n                        <div className='mb-5'>Aisle</div>\n                        <Selector\n                            groupTitle='Aisle'\n                            selected={todo.aisle} \n                            label={index} \n                            items={itemMenuDefault.concat(status.aisles) || itemMenuDefault.concat(aislesInit)}\n                            onChange={reIndex}\n                            padding='5px'\n                            fontSize='15' \n                            maxWidth='115px'\n                        />\n                    </div>\n                </div>\n            </div>\n        )\n    }\n    const daItem = (todo, index) => {\n        //console.log(`daItem =>\\ntodo: ${JSON.stringify(todo, null, 2)}\\nindex: ${index}`);\n        \n        const shopNavClasses = () => (todo.select) ? 'itemRemove glassyShopNav' : 'itemRemove';\n        const titleClasses = () => (todo.select) ? 'title white' : 'title';\n        const aisleColor = getColor(todo.aisle);\n        if (todo !== undefined) {\n            return (\n                <div key={getKey(status.todos[index].title)}>\n                    <div className='height1px' style={{backgroundColor: aisleColor}}></div>\n                    <div className={shopNavClasses()} onClick={() => toggleSelect(index)}>\n                        <span className={titleClasses()}>{ status.todos[index].title }</span>\n                        {getSelectIcon(index)}\n                    </div>                 \n                    {getSelectors(todo,index, aisleColor)}\n                </div>\n            )\n        } else {\n            return (\n                <div key={getKey(status.todos[index].title)}>\n                    <div className='height1px' style={{backgroundColor: aisleColor}}></div>\n                    <div className={shopNavClasses()} onClick={() => toggleSelect(index)}>\n                        <span className={titleClasses()}>{ status.todos[index].title }</span>\n                        {getSelectIcon(index)}\n                    </div>\n                    {getSelectors(todo,index, aisleColor)}\n                </div>\n            )\n        }    \n    }\n    const getItems = (context) => {\n        const newAisles = (status.aisles !== undefined) ? status.aisles : aislesInit;\n        let newList = <React.Fragment></React.Fragment>;\n        //console.log(`daList => todos: ${JSON.stringify(status.todos, null,2)}`);\n        const pushNewAisle = (aisle) => (newAisles.indexOf(aisle) > -1) ? '' : newAisles.push(aisle);\n        /*\n        status.todos.forEach((todo,index) => {\n            pushNewAisle(todo.aisle);\n            //console.log(`daList =>\\nnewAisles: ${newAisles}\\nquantities: ${todo.quantity}\\ntitle: ${todo.title}\\ndays: ${todo.days}\\nprice: ${todo.price}\\ntax: ${todo.tax}\\nquantity: ${todo.quantity}`)\n            newList = <div>\n                    {newList}\n                    {daItem(todo, index)}\n                </div>;\n        })\n        */\n        const filteredTodos = status.todos.filter(todo => {\n            return todo.title.toLowerCase().includes(status.search.toLowerCase());\n        });\n\n        filteredTodos.forEach((todo, index) => {\n            pushNewAisle(todo.aisle);\n            newList = <div>\n                {newList}\n                {daItem(todo, index)}\n            </div>;\n        });\n\n        //console.log(`daList => newList: ${JSON.stringify(newList,null,2)}`)\n        localStorage.setItem('aisles', JSON.stringify(newAisles));\n        if (context === 'display') {\n            return newList;\n        } else if (context === 'effect') {\n            //console.log(`useEffect => newAisles: ${newAisles}`)\n            setStatus(prevState => ({\n                ...prevState,\n                list: newList,\n                aisles: newAisles\n            }));\n        }\n    };\n    \n    useEffect(() => {\n        getItems('effect');\n        getTotal();\n    },[status.todos]);\n    \n    useEffect(() => {\n        updateAisles();\n    },[]);\n    useEffect(() => {\n        getTotal();\n    },[status.tax]);\n    const sortArray = (array) => {\n        const filtered = array.filter(function (el) {\n            return el != null;\n        });\n        //console.log(`sortArray => filtered: ${filtered}`)\n\n        const alphabetic = [];\n        const numeric = [];\n        filtered.forEach(item => {\n            if (Number(item.substring(0,1)) > 0) {\n                numeric.push(item);\n            } else {\n                alphabetic.push(item);\n            }\n        });\n        alphabetic.sort();\n        numeric.sort(function(a, b){return a - b});\n        array = [];\n        alphabetic.forEach(item => {\n            if (array.indexOf(item) < 0){\n                array.push(item);\n            }\n        });\n        numeric.forEach(item => array.push(item));  \n        return array;\n    };\n    const getTotal = () => {\n        let newTotal = 0;\n        let subtotal = 0;\n        let newTax = 0;\n        let newTaxTotal = 0;\n        let updatedTodos = status.todos;\n        let updatesItems = 0;\n        let updatedTotalItems = 0;\n        updatedTodos.forEach(item => {\n            if (typeof item.price !== 'undefined' && item.cart) {\n                updatesItems++;\n                updatedTotalItems = Number(updatedTotalItems) + Number(item.quantity);\n                subtotal = parseFloat(Number(item.price)) * Number(item.quantity);\n                if (item.tax) {\n                    newTax = subtotal * (Number(status.tax) * .01);\n                    newTaxTotal = newTaxTotal + newTax;\n                    subtotal = subtotal + newTax;\n                }\n                newTotal = parseFloat(Number(newTotal)) + subtotal;\n            }\n        })\n        //localStorage.setItem('vueTodos', JSON.stringify(status.todos));\n        newTotal = Math.round( newTotal * 100 ) / 100;\n        newTotal = newTotal.toFixed(2);\n        newTaxTotal = newTaxTotal.toFixed(2)\n        setStatus(prevState => ({\n            ...prevState,\n            totalItems: updatedTotalItems,\n            items: updatesItems,\n            total: newTotal,\n            taxTotal: newTaxTotal,\n            //tax: newTax\n        }));\n    };\n    const sortName = () => {\n        let sortedTodos = status.todos;\n        sortedTodos.sort(function(a, b){\n            let x = a.title.toLowerCase();\n            let y = b.title.toLowerCase();\n            if (x < y) {return -1;}\n            if (x > y) {return 1;}\n            return 0;\n        });\n        setStatus(prevState => ({\n            ...prevState,\n            todos: sortedTodos\n        }));\n    };\n    const updateItem = (item) => {\n        setStatus(prevState => ({\n            ...prevState,\n            item: item\n        }));\n    }\n    const updateAisles = () => {\n        let colors = [];\n        let todoSort = [];\n        let inactiveTodos = [];\n        let newAisles = status.aisles || aislesInit;\n        const updatedTodos = status.todos;\n        updatedTodos.forEach(todo => {\n            if (newAisles.indexOf(todo.aisle) < 0) {\n                newAisles.push(todo.aisle);\n            }\n        });\n        newAisles = sortArray(newAisles);\n        localStorage.setItem('aisles', JSON.stringify(newAisles));\n        colors = getColors(newAisles);\n        newAisles.forEach(aisle => {\n            updatedTodos.forEach(todo => {\n                if (todo.aisle === aisle && todo.select) {\n                    todoSort.push(todo);\n                } else if (todo.aisle === aisle && !todo.select) {\n                    inactiveTodos.push(todo);\n                }\n            });\n        });\n        //console.log(`updateAisles => !!!!!!!!!!\\ntodoSort: ${JSON.stringify(todoSort, null,2)}\\ninactiveTodos: ${inactiveTodos}`)\n        inactiveTodos.forEach(todo => todoSort.push(todo));\n        setStatus(prevState => ({\n            ...prevState,\n            todos: todoSort,\n            aisles: newAisles,\n            colors: colors\n        }));\n    };\n    const setEntry = (value) => {\n        console.log(`setEntry ${value}`);\n        debounceType(setItemEntry, value);\n        setStatus(prevState => ({\n            ...prevState,\n            displayProductEntry: false,\n            displaySettings: false,\n            search: value,\n            item: value\n        }));\n    }\n    const addTodo = () => {\n        //e.preventDefault();\n        console.log(`addTodo =>\\nitemEntry: ${itemEntry}`);\n        const updatedTodos = status.todos;\n        let updatedRetrievedData = status.retrievedData;\n        const updatedAisles = status.aisles || aislesInit;\n        let newPriceUpdate = 0;\n        let newItem = {};\n        if (itemEntry) {\n            //onClick={() => toggleProductEntry()}\n            //const newAisle = prompt('Enter aisle number:', '');\n            const newAisle = 'Walmart';\n            if (updatedAisles.indexOf(newAisle) < 0) {\n                updatedAisles.push(newAisle);\n            }\n            //newPriceUpdate = prompt('Enter price:', '');\n            \n            newItem = {\n                title: itemEntry, \n                aisle: newAisle, \n                price: Number(newPriceUpdate).toFixed(2),\n                quantity: 1, \n                tax: false, \n                cart: true, \n                select: true, \n                lastPurchase: today, \n                days: 0\n            };\n            updatedTodos.push(newItem);\n            updatedRetrievedData.push(newItem);\n            localStorage.setItem('vueTodos', JSON.stringify(updatedRetrievedData));\n            if (!localStorage.getItem('vueTodosSaved')) {\n                localStorage.setItem('vueTodosSaved', JSON.stringify(updatedTodos));\n                //console.log(`vueTodosSaved(2): ${JSON.stringify(JSON.parse(localStorage.getItem('vueTodosSaved')),null,2)}`);                \n            } else {\n                updatedRetrievedData = JSON.parse(localStorage.getItem('vueTodosSaved'));\n                updatedRetrievedData.push(newItem);\n                localStorage.setItem('vueTodosSaved', JSON.stringify(updatedRetrievedData));\n                //console.log(`vueTodosSaved(3): ${JSON.stringify(JSON.parse(localStorage.getItem('vueTodosSaved')),null,2)}`);\n            }\n            const newTodos = JSON.parse(localStorage.getItem('vueTodosSaved'));\n            const newRetrievedData = (localStorage.getItem('vueTodosSaved')) ? JSON.parse(localStorage.getItem('vueTodosSaved')) : JSON.parse(localStorage.getItem('vueTodos'))\n            setStatus(prevState => ({\n                ...prevState,\n                newTodoText: itemEntry,\n                aisles: updatedAisles,\n                retrievedData: newRetrievedData,\n                todos: newTodos,\n            }));\n            //updateAisles();\n            //setNewTodoText('');\n            getTotal();\n            //setItemEntry('');\n        }\n    };\n    const toggleSelect = (id) => { \n        const updatedTodos = status.todos; \n        updatedTodos.forEach((item, index) => {\n            if (item.title === updatedTodos[id].title) {\n                if (updatedTodos[id].select) {\n                    updatedTodos[index].select = false;\n                    updatedTodos[index].cart = false;\n                } else {\n                    updatedTodos[index].lastPurchase = today;\n                    updatedTodos[index].days = 1;\n                    updatedTodos[index].select = true;\n                }\n            }\n        });       \n        localStorage.setItem('vueTodos', JSON.stringify(updatedTodos));\n        setStatus(prevState => ({\n            ...prevState,\n            todos: JSON.parse(localStorage.getItem('vueTodos'))\n        }));\n        getTotal();\n        updateAisles();   \n    };\n    const revert = () => {\n        const revertData = JSON.parse(localStorage.getItem('vueTodosRevert'));\n        \n        //console.log(`revertData: ${JSON.stringify(revertData, null, 2)}`)\n        localStorage.setItem('vueTodos', JSON.stringify(revertData));\n        setStatus(prevState => ({\n            ...prevState,\n            todos: revertData,\n            retrievedData: revertData,\n            displaySettings: false,\n            displayProductEntry: false\n\n        }));\n        //itemMenuDefault.forEach(aisle => newAisles.push(aisle));\n        //setAisles(newAisles);\n        //updateAisles();\n        getTotal();\n    };\n    const save = () => {\n        localStorage.setItem('vueTodosSaved', JSON.stringify(status.todos));\n        //console.log(`vueTodosSaved(9): ${JSON.stringify(JSON.parse(localStorage.getItem('vueTodosSaved')),null,2)}`)\n        setStatus(prevState => ({\n            ...prevState,\n            displaySettings: false,\n            displayProductEntry: false\n        }));\n    };\n    const restore = () => {\n        const newAisles = status.aisles || aislesInit;\n        itemMenuDefault.forEach(aisle => newAisles.push(aisle));\n        updateAisles();\n        localStorage.setItem('vueTodos', JSON.stringify(status.retrievedData));\n        setStatus(prevState => ({\n            ...prevState,\n            todos: status.retrievedData,\n            aisles: newAisles,\n            retrievedData: JSON.parse(localStorage.getItem('vueTodosSaved')),\n            displaySettings: false,\n            displayProductEntry: false\n        }));        \n    };    \n    const getSelectIcon = (index) => <img \n                                        className='cart' \n                                        alt='select' \n                                        src={(status.todos[index].select) ? Selected : Select}\n                                    />\n    const setTax = () => {\n        setStatus(prevState => ({\n            ...prevState,\n            tax: localStorage.getItem('tax')\n        }));\n    }\n    const toggleSettings = () => {\n        //console.log(`toggleSettings => displaySettings: ${status.displaySettings}`)\n        setStatus(prevState => ({\n            ...prevState,\n            displaySettings: !status.displaySettings\n        }));\n    };\n    const toggleProductEntry = () => {\n        //console.log(`toggleProductEntry => displayProductEntry: ${status.displayProductEntry}`)\n        setStatus(prevState => ({\n            ...prevState,\n            displayProductEntry: !status.displayProductEntry\n        }));\n    };\n    const clear = () => {\n        localStorage.setItem('vueTodosRevert', JSON.stringify(status.todos));\n        localStorage.removeItem('aisles', '');\n        localStorage.removeItem('vueTodos', '');\n        setStatus(prevState => ({\n            ...prevState,\n            todos: [],\n            aisles: []\n        }));\n        getTotal();\n    };\n    const totals = <div className='total '>\n                        <div className='totalItems'>\n                            Items: { status.items }<br />\n                            total: { status.totalItems }\n                        </div>\n                        <div className='totalDollars'>\n                            Tax: $ { status.taxTotal }<br />\n                            Total: $ { status.total }\n                        </div>\n                    </div>\n    const getMenuHeight = (status.displaySettings) ? 'mt-180 visible bottomPadding' : 'mt-850 visible bottomPadding';\n    const menuClasses = (!status.displaySettings && !status.displayProductEntry) ? 'mt-60 visible bottomPadding' : getMenuHeight;\n    console.log(`Shop ==> REFRESH\n                    displaySettings: ${status.displaySettings}\n                    displayProductEntry: ${status.displayProductEntry}\n                `);\n    \n    return (\n        <div className='mt--7'>\n            <div className='input'>\n                <SearchBar onSubmit={addTodo} onChange={setEntry} label='Add items' term=''/>\n                <img className='settings' src={menu} alt=\"open menu\" onClick={() => toggleSettings()}/>\n            </div>\n            <div className={menuClasses}>\n                {getItems('display')}\n            </div>\n            {totals}\n            <ProductEntry\n                state={status} \n                updateAisles={updateAisles} \n                save={save} \n                displayProductEntry={status.displayProductEntry}\n                Item={status.search}\n                updateItem={updateItem} \n            />\n            <SettingsMenu \n                state={status} \n                updateAisles={updateAisles} \n                sortName={sortName} \n                revert={revert} \n                save={save} \n                restore={restore} \n                getTotal={getTotal} \n                setTax={setTax} \n                clear={clear}\n            />\n        </div>\n    )\n}\n\nexport default Shop;"],"mappings":"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"},"metadata":{},"sourceType":"module"}