{"ast":null,"code":"import _classCallCheck from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{connect}from'react-redux';import{Link}from'react-router-dom';import Modal from'./Modal.js';import history from'../utils/history.js';import{fetchStream,deleteStream}from'./StreamActions.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StreamDelete=/*#__PURE__*/function(_React$Component){_inherits(StreamDelete,_React$Component);var _super=_createSuper(StreamDelete);function StreamDelete(){var _this;_classCallCheck(this,StreamDelete);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.returnToList=function(){history.push('/');window.location.href='/reactor/streams/list';};return _this;}_createClass(StreamDelete,[{key:\"componentDidMount\",value:function componentDidMount(){console.log(JSON.stringify(this.props,null,2));this.props.fetchStream(this.props.match.params.id);}},{key:\"renderActions\",value:function renderActions(){var _this2=this;var id=this.props.match.params.id;return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.props.deleteStream(id);},className:\"ui button negative\",children:\"Delete\"}),/*#__PURE__*/_jsx(Link,{to:\"/streams\",className:\"ui button\",children:\"Cancel\"})]});}},{key:\"renderContent\",value:function renderContent(){if(!this.props.stream){return'Are you sure you want to delete this stream?';}return\"Are you sure you want to delete \".concat(this.props.stream.title,\"?\");}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsx(Modal,{title:\"Delete stream\",content:this.renderContent(),actions:this.renderActions(),onDismiss:function onDismiss(){return _this3.returnToList();}});}}]);return StreamDelete;}(React.Component);var mapStateToProps=function mapStateToProps(state,ownProps){return{stream:state.streams[ownProps.match.params.id]};};export default connect(mapStateToProps,{fetchStream:fetchStream,deleteStream:deleteStream})(StreamDelete);","map":{"version":3,"names":["React","connect","Link","Modal","history","fetchStream","deleteStream","jsx","_jsx","jsxs","_jsxs","StreamDelete","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","returnToList","push","window","location","href","_createClass","key","value","componentDidMount","console","log","JSON","stringify","props","match","params","id","renderActions","_this2","Fragment","children","onClick","className","to","renderContent","stream","title","render","_this3","content","actions","onDismiss","Component","mapStateToProps","state","ownProps","streams"],"sources":["/Users/js/Dev/my-first-reactor/src/components/streams/StreamDelete.js"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Modal from './Modal.js';\nimport history from '../utils/history.js';\nimport { fetchStream, deleteStream } from './StreamActions.js'\n\nclass StreamDelete extends React.Component {\n    componentDidMount() {\n        console.log(JSON.stringify(this.props, null, 2));\n        this.props.fetchStream(this.props.match.params.id);\n    }\n    renderActions() {\n        const { id } = this.props.match.params;\n\n        return (\n            <React.Fragment>\n                <button \n                    onClick={() => this.props.deleteStream(id)}\n                    className='ui button negative'\n                >\n                    Delete\n                </button>\n                <Link to=\"/streams\" className='ui button'>\n                    Cancel\n                </Link>\n            </React.Fragment>\n        );\n    }\n    returnToList = () => {\n        history.push('/');\n        window.location.href='/reactor/streams/list';\n    }\n    renderContent() {\n        if (!this.props.stream) {\n            return 'Are you sure you want to delete this stream?'\n        }\n        return `Are you sure you want to delete ${this.props.stream.title}?`\n    }\n    render() {\n        return (\n            <Modal \n                title='Delete stream' \n                content={this.renderContent()} \n                actions={this.renderActions()}\n                onDismiss={() => this.returnToList()}\n            />\n        )\n    }\n}\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        stream: state.streams[ownProps.match.params.id]\n    }\n}\nexport default connect(mapStateToProps, { fetchStream, deleteStream })(StreamDelete);"],"mappings":"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"},"metadata":{},"sourceType":"module"}