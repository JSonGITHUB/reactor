{"ast":null,"code":"var _jsxFileName = \"/Users/js/Dev/my-first-reactor/src/components/utils/Geolocator.js\";\nimport React, { useState, useEffect } from 'react';\nimport Loader from '../utils/Loader.js';\n\nconst Geolocate = ({\n  isMotionOn,\n  returnCurrentPosition,\n  currentPositionExists\n}) => {\n  const [status, setStatus] = useState({\n    longitude: null,\n    latitude: null,\n    errorMessage: null,\n    returnCurrentPosition: returnCurrentPosition,\n    currentPositionExists: currentPositionExists\n  });\n  useEffect(() => {\n    const getCurrentPosition = () => {\n      window.navigator.geolocation.getCurrentPosition( //position => console.log(position.coords.longitude),\n      position => {\n        const {\n          longitude,\n          latitude\n        } = position.coords;\n        returnCurrentPosition(longitude, latitude); //console.log(`getCurrentPosition => coords ^^^^^^^^^^^ ${longitude}, ${latitude}`)\n\n        setStatus({\n          longitude: longitude,\n          latitude: latitude,\n          errorMessage: null,\n          returnCurrentPosition: returnCurrentPosition,\n          currentPositionExists: currentPositionExists\n        });\n      }, err => {\n        console.log(err);\n        setStatus({\n          longitude: status.longitude,\n          latitude: status.latitude,\n          errorMessage: err.message,\n          returnCurrentPosition: returnCurrentPosition,\n          currentPositionExists: currentPositionExists\n        });\n      });\n    };\n\n    const timerID = setInterval(() => getCurrentPosition(), 5000);\n    return function cleanUp() {\n      clearInterval(timerID);\n    };\n  }, []);\n\n  const getLocation = () => `${status.latitude.toFixed(6)}, ${status.longitude.toFixed(6)} `;\n\n  const percent = window.innerWidth < 700 ? 'twentyfivePercent mt--70 mb--70' : 'fiftyPercent mt--40 mb--40';\n\n  const loading = () => /*#__PURE__*/React.createElement(\"div\", {\n    className: percent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    isMotionOn: isMotionOn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  })); // eslint-disable-next-line\n\n\n  const latlon = () => status.latitude + \",\" + status.longitude;\n\n  const {\n    latitude,\n    errorMessage\n  } = status;\n  const errorExists = errorMessage ? true : false;\n  const latExists = latitude ? true : false;\n  const errMessage = errorMessage;\n  let geolocationStatus = latExists ? getLocation() : loading();\n  geolocationStatus = errorExists ? `${errMessage}` : geolocationStatus;\n  /*\n  if (latExists) {\n      if (!currentPositionExists()) {\n          returnCurrentPosition(status.longitude, status.latitude);\n      }\n  }\n  */\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"color-yellow greet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 12\n    }\n  }, geolocationStatus);\n};\n\nexport default Geolocate;","map":{"version":3,"sources":["/Users/js/Dev/my-first-reactor/src/components/utils/Geolocator.js"],"names":["React","useState","useEffect","Loader","Geolocate","isMotionOn","returnCurrentPosition","currentPositionExists","status","setStatus","longitude","latitude","errorMessage","getCurrentPosition","window","navigator","geolocation","position","coords","err","console","log","message","timerID","setInterval","cleanUp","clearInterval","getLocation","toFixed","percent","innerWidth","loading","latlon","errorExists","latExists","errMessage","geolocationStatus"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,MAAP,MAAmB,oBAAnB;;AAEA,MAAMC,SAAS,GAAG,CAAC;AAAEC,EAAAA,UAAF;AAAcC,EAAAA,qBAAd;AAAqCC,EAAAA;AAArC,CAAD,KAAkE;AAEhF,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC;AAC7BS,IAAAA,SAAS,EAAE,IADkB;AAE7BC,IAAAA,QAAQ,EAAE,IAFmB;AAG7BC,IAAAA,YAAY,EAAE,IAHe;AAI7BN,IAAAA,qBAAqB,EAAEA,qBAJM;AAK7BC,IAAAA,qBAAqB,EAAEA;AALM,GAAD,CAApC;AASAL,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMW,kBAAkB,GAAG,MAAM;AAC7BC,MAAAA,MAAM,CAACC,SAAP,CAAiBC,WAAjB,CAA6BH,kBAA7B,EACI;AACDI,MAAAA,QAAQ,IAAI;AACP,cAAM;AAAEP,UAAAA,SAAF;AAAaC,UAAAA;AAAb,YAA0BM,QAAQ,CAACC,MAAzC;AACAZ,QAAAA,qBAAqB,CAACI,SAAD,EAAYC,QAAZ,CAArB,CAFO,CAGP;;AACAF,QAAAA,SAAS,CAAC;AACNC,UAAAA,SAAS,EAAEA,SADL;AAENC,UAAAA,QAAQ,EAAEA,QAFJ;AAGNC,UAAAA,YAAY,EAAE,IAHR;AAINN,UAAAA,qBAAqB,EAAEA,qBAJjB;AAKNC,UAAAA,qBAAqB,EAAEA;AALjB,SAAD,CAAT;AAOH,OAbL,EAcIY,GAAG,IAAI;AACHC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAV,QAAAA,SAAS,CAAC;AACNC,UAAAA,SAAS,EAAEF,MAAM,CAACE,SADZ;AAENC,UAAAA,QAAQ,EAAEH,MAAM,CAACG,QAFX;AAGNC,UAAAA,YAAY,EAAEO,GAAG,CAACG,OAHZ;AAINhB,UAAAA,qBAAqB,EAAEA,qBAJjB;AAKNC,UAAAA,qBAAqB,EAAEA;AALjB,SAAD,CAAT;AAQH,OAxBL;AA0BH,KA3BD;;AA4BA,UAAMgB,OAAO,GAAGC,WAAW,CACvB,MAAMX,kBAAkB,EADD,EAEvB,IAFuB,CAA3B;AAIA,WAAO,SAASY,OAAT,GAAoB;AACvBC,MAAAA,aAAa,CAACH,OAAD,CAAb;AACH,KAFD;AAGH,GApCQ,EAoCP,EApCO,CAAT;;AAqCA,QAAMI,WAAW,GAAG,MAAO,GAAEnB,MAAM,CAACG,QAAP,CAAgBiB,OAAhB,CAAwB,CAAxB,CAA2B,KAAIpB,MAAM,CAACE,SAAP,CAAiBkB,OAAjB,CAAyB,CAAzB,CAA4B,GAAxF;;AACA,QAAMC,OAAO,GAAIf,MAAM,CAACgB,UAAP,GAAoB,GAArB,GAA4B,iCAA5B,GAAgE,4BAAhF;;AACA,QAAMC,OAAO,GAAG,mBAAM;AAAK,IAAA,SAAS,EAAEF,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACV,oBAAC,MAAD;AAAQ,IAAA,UAAU,EAAExB,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADU,CAAtB,CAlDgF,CAqDhF;;;AACA,QAAM2B,MAAM,GAAG,MAAMxB,MAAM,CAACG,QAAP,GAAkB,GAAlB,GAAwBH,MAAM,CAACE,SAApD;;AACA,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAA6BJ,MAAnC;AACA,QAAMyB,WAAW,GAAIrB,YAAD,GAAiB,IAAjB,GAAwB,KAA5C;AACA,QAAMsB,SAAS,GAAIvB,QAAD,GAAa,IAAb,GAAoB,KAAtC;AACA,QAAMwB,UAAU,GAAGvB,YAAnB;AACA,MAAIwB,iBAAiB,GAAIF,SAAD,GAAcP,WAAW,EAAzB,GAA8BI,OAAO,EAA7D;AACAK,EAAAA,iBAAiB,GAAIH,WAAD,GAAiB,GAAEE,UAAW,EAA9B,GAAkCC,iBAAtD;AACA;AACJ;AACA;AACA;AACA;AACA;AACA;;AACI,sBAAO;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqCA,iBAArC,CAAP;AACH,CArED;;AAuEA,eAAehC,SAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport Loader from '../utils/Loader.js';\n\nconst Geolocate = ({ isMotionOn, returnCurrentPosition, currentPositionExists }) => {\n\n    const [status, setStatus] = useState({\n            longitude: null,\n            latitude: null,\n            errorMessage: null,\n            returnCurrentPosition: returnCurrentPosition,\n            currentPositionExists: currentPositionExists\n        })\n\n    \n    useEffect(() => { \n        const getCurrentPosition = () => {\n            window.navigator.geolocation.getCurrentPosition(\n                //position => console.log(position.coords.longitude),\n               position => {\n                    const { longitude, latitude } = position.coords;\n                    returnCurrentPosition(longitude, latitude);\n                    //console.log(`getCurrentPosition => coords ^^^^^^^^^^^ ${longitude}, ${latitude}`)\n                    setStatus({\n                        longitude: longitude,\n                        latitude: latitude,\n                        errorMessage: null,\n                        returnCurrentPosition: returnCurrentPosition,\n                        currentPositionExists: currentPositionExists\n                    });\n                },\n                err => {\n                    console.log(err)\n                    setStatus({\n                        longitude: status.longitude,\n                        latitude: status.latitude,\n                        errorMessage: err.message,\n                        returnCurrentPosition: returnCurrentPosition,\n                        currentPositionExists: currentPositionExists\n                    });\n    \n                }\n            )\n        }    \t\t\n        const timerID = setInterval(\n            () => getCurrentPosition(),\n            5000\n        );\n        return function cleanUp () {\n            clearInterval(timerID);\n        }\n    },[]);\n    const getLocation = () => `${status.latitude.toFixed(6)}, ${status.longitude.toFixed(6)} `;\n    const percent = (window.innerWidth < 700) ? 'twentyfivePercent mt--70 mb--70' : 'fiftyPercent mt--40 mb--40';\n    const loading = () => <div className={percent}>\n                <Loader isMotionOn={isMotionOn}/>\n            </div>;\n    // eslint-disable-next-line\n    const latlon = () => status.latitude + \",\" + status.longitude;\n    const { latitude, errorMessage } = status;\n    const errorExists = (errorMessage) ? true : false;\n    const latExists = (latitude) ? true : false;\n    const errMessage = errorMessage;\n    let geolocationStatus = (latExists) ? getLocation() : loading();\n    geolocationStatus = (errorExists) ? `${errMessage}` : geolocationStatus;\n    /*\n    if (latExists) {\n        if (!currentPositionExists()) {\n            returnCurrentPosition(status.longitude, status.latitude);\n        }\n    }\n    */\n    return <div className=\"color-yellow greet\">{geolocationStatus}</div>\n}\n\nexport default Geolocate;"]},"metadata":{},"sourceType":"module"}