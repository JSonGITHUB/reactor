{"ast":null,"code":"import _objectSpread from\"/Users/js/Dev/my-first-reactor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/js/Dev/my-first-reactor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Dialog from'../functional/Dialog.js';import RadioSelector from'../forms/FormRadio.js';import DatePicker from'react-date-picker';import getKey from'../utils/KeyGenerator.js';import PostDirectory from'./PostDirectory.js';import{BrowserRouter as Link,Route}from'react-router-dom';import selector from'./Selector.js';import group from'./Group.js';import templateData from'./TemplateData.js';import generateNewLogId from'./GenerateLogId.js';var LogEntry=function LogEntry(_ref){var logId=_ref.logId,onChange=_ref.onChange,getStateLog=_ref.getStateLog,title=_ref.title,message=_ref.message,buttonLabel=_ref.buttonLabel,items=_ref.items;console.log(\"LogEntry => logId: \".concat(logId));var posts=new PostDirectory();var logIdExists=function logIdExists(){return logId!==undefined&&logId!==\"\"?false:true;};var localLastPostIdExists=function localLastPostIdExists(){return localStorage.getItem(\"lastPostId\")===null?false:true;};var getLocalLastPostId=function getLocalLastPostId(){return localLastPostIdExists()?localStorage.getItem(\"lastPostId\"):posts.getLastItem();};var getLastPostId=function getLastPostId(){return logIdExists()?logId:getLocalLastPostId();};var localLogExists=function localLogExists(){return localStorage.getItem(logId)===null?false:true;};var getLog=function getLog(){return localLogExists()?JSON.parse(localStorage.getItem(logId)):templateData;};var _useState=useState({logId:logId,lastPostId:getLastPostId(),date:new Date(),log:getLog(),change:false,spot:localStorage.getItem('spot')}),_useState2=_slicedToArray(_useState,2),status=_useState2[0],setStatus=_useState2[1];var handleSelection=function handleSelection(groupTitle,label,selected){console.log(\"handleSelection => \\ngroupTitle: \".concat(groupTitle,\"\\nlabel: \").concat(label,\"\\nselected: \").concat(selected));if(typeof groupTitle===\"string\"){var currentLog=status.log;currentLog[groupTitle][label]=selected;setStatus(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{log:currentLog,change:true});});onChange(groupTitle,label,selected,true);}};var updateNotes=function updateNotes(event){handleSelection(\"Comments\",\"notes\",event.target.value);};var handleSubmit=function handleSubmit(event){console.log(\"handleSubmit: \".concat(JSON.stringify(status.log,null,2)));var recordId=generateNewLogId();console.log(\"handleSubmit: recordId: \".concat(recordId));var postDirectory=posts.getDirectory();var post=\"\";var logIt=function logIt(){postDirectory.push(recordId);postDirectory=JSON.stringify(postDirectory);console.log(\"postDirectory: \".concat(postDirectory));post=JSON.stringify(status.log,null,2);console.log(\"post: \".concat(post));localStorage.setItem(recordId,post);//localStorage.setItem(\"postDirectory\", postDirectory);\nposts.add(recordId);};logIt();window.location.pathname=\"/reactor/LogDirectory\";};var handleSave=function handleSave(event){console.log(\"handleSave: \".concat(status.log));var recordId=logId;var post=\"\";var logIt=function logIt(){post=JSON.stringify(status.log,null,2);console.log(\"post: \".concat(post));localStorage.setItem(recordId,post);};logIt();window.location.pathname=\"/reactor/LogDirectory\";};var handleDelete=function handleDelete(){console.log(\"handleDelete => \");var recordId=logId;console.log(\"handleDelete => recordId: \".concat(recordId));posts.delete(recordId);window.location.pathname=\"/reactor/LogDirectory\";};var onDateChange=function onDateChange(date){var day=date.getDate();var month=date.getMonth()+1;var year=date.getFullYear();handleSelection(\"Day\",\"Date\",date);handleSelection(\"Day\",\"Day\",day);handleSelection(\"Day\",\"Month\",month);handleSelection(\"Day\",\"Year\",year);};var getItems=function getItems(){return items;};var selected=function selected(item,groupTitle){return item.selections.indexOf(status.log[groupTitle][item.description])!==-1?true:false;};var defaultSelection=function defaultSelection(item,groupTitle){return selected(item,groupTitle)?item.selections.indexOf(status.log[groupTitle][item.description]):0;};var radioItems=function radioItems(item,groupTitle){return/*#__PURE__*/React.createElement(RadioSelector,{header:groupTitle,groupTitle:groupTitle,selected:defaultSelection(item,groupTitle),label:item.description,items:item.selections,onChange:handleSelection});};var radio=function radio(item,groupTitle){return/*#__PURE__*/React.createElement(\"div\",{className:\"r-vw bg-green\"},radioItems(item,groupTitle));};var selectionInterface=function selectionInterface(item,groupTitle){return item.type==='radio'?radio(item,groupTitle):selector(item,groupTitle,status.spot,defaultSelection,handleSelection,selected);};var groups=function groups(){return getItems().map(function(item){var headerClasses='subHeader color-yellow';var selectorClasses='greet p-vw bg-vdkGreen flex3Column';var groupClasses=window.innerWidth<500?\"r-vw\":\"flexContainer width-100-percent r-vw\";var description=item.description;//console.log(`description: ${JSON.stringify(item,null,2)}`)\nreturn/*#__PURE__*/React.createElement(\"div\",{key:getKey(\"groupConainer\")},/*#__PURE__*/React.createElement(\"div\",{key:getKey(\"groupHeader\"),className:headerClasses},item.description),/*#__PURE__*/React.createElement(\"div\",{className:groupClasses,key:getKey(\"groupSubConainer\")},group(item).map(function(group){return/*#__PURE__*/React.createElement(\"div\",{key:getKey(\"selectorContainer\"),className:selectorClasses},selectionInterface(group,description));})));});};var categories=function categories(){status.selectorStatus=[];return/*#__PURE__*/React.createElement(\"div\",{className:\"description\"},groups());};var getLogObject=function getLogObject(){return status.log;};var dateEntry=function dateEntry(){var logExists=status.log!==undefined&&status.log!==null&&JSON.stringify(status.log,null,2)!==\"{}\"?true:false;var stateLogDate=function stateLogDate(){return getLogObject().Day.Date;};var getDate=function getDate(){return logExists===true?new Date(stateLogDate()):new Date(status.date);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"mb-5 subHeader color-yellow\"},\"Date\"),/*#__PURE__*/React.createElement(\"div\",{className:\"flexContainer width-100-percent bg-vdkGreen\"},/*#__PURE__*/React.createElement(DatePicker,{onChange:onDateChange,value:getDate(),className:\"p-vw bg-green flex3Column r-vw m-vw\"}),/*#__PURE__*/React.createElement(\"br\",null)));};return/*#__PURE__*/React.createElement(Route,null,/*#__PURE__*/React.createElement(Dialog,{title:title,message:message},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},dateEntry(),categories(),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-5\"},\"Additional Comments: \"),/*#__PURE__*/React.createElement(\"textarea\",{rows:\"10\",cols:window.innerWidth/15,value:status.log.Comments.notes,onChange:updateNotes,className:\"mt-10 greet p-10 r-10 brdr-green\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Link,{className:\"noUnderline color-black\",to:\"/LogDirectory\",onClick:function onClick(){return handleSubmit();}},/*#__PURE__*/React.createElement(\"div\",{onClick:handleSubmit,className:\"button m-1 greet p-20 r-10 bg-green brdr-green\"},buttonLabel)),/*#__PURE__*/React.createElement(Link,{className:\"noUnderline color-black\",to:\"/LogDirectory\",onClick:function onClick(){return handleSave();}},/*#__PURE__*/React.createElement(\"div\",{onClick:handleSave,className:\"myButton m-1 greet p-20 r-10 bg-yellow brdr-yellow\"},\"save\")),/*#__PURE__*/React.createElement(Link,{className:\"noUnderline\",to:\"/LogDirectory\",onClick:function onClick(){return handleDelete();}},/*#__PURE__*/React.createElement(\"div\",{onClick:handleDelete,className:\"button m-1 greet p-20 r-10 bg-red brdr-red\"},\"delete\")),/*#__PURE__*/React.createElement(PostDirectory,null))));};export default LogEntry;","map":{"version":3,"sources":["/Users/js/Dev/my-first-reactor/src/components/waves/LogEntryFunctional.js"],"names":["React","useState","Dialog","RadioSelector","DatePicker","getKey","PostDirectory","BrowserRouter","Link","Route","selector","group","templateData","generateNewLogId","LogEntry","logId","onChange","getStateLog","title","message","buttonLabel","items","console","log","posts","logIdExists","undefined","localLastPostIdExists","localStorage","getItem","getLocalLastPostId","getLastItem","getLastPostId","localLogExists","getLog","JSON","parse","lastPostId","date","Date","change","spot","status","setStatus","handleSelection","groupTitle","label","selected","currentLog","prevState","updateNotes","event","target","value","handleSubmit","stringify","recordId","postDirectory","getDirectory","post","logIt","push","setItem","add","window","location","pathname","handleSave","handleDelete","delete","onDateChange","day","getDate","month","getMonth","year","getFullYear","getItems","item","selections","indexOf","description","defaultSelection","radioItems","radio","selectionInterface","type","groups","map","headerClasses","selectorClasses","groupClasses","innerWidth","categories","selectorStatus","getLogObject","dateEntry","logExists","stateLogDate","Day","Comments","notes"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Dialog from '../functional/Dialog.js';\nimport RadioSelector from '../forms/FormRadio.js';\nimport DatePicker from 'react-date-picker';\nimport getKey from '../utils/KeyGenerator.js';\nimport PostDirectory from './PostDirectory.js';\nimport {BrowserRouter as Link, Route} from 'react-router-dom';\nimport selector from './Selector.js';\nimport group from './Group.js';\nimport templateData from './TemplateData.js';\nimport generateNewLogId from './GenerateLogId.js'\n\nconst LogEntry = ({ logId, onChange, getStateLog, title, message, buttonLabel, items }) => {\n\n    console.log(`LogEntry => logId: ${logId}`)\n    const posts = new PostDirectory();\n    const logIdExists = () => (logId !== undefined && logId !== \"\" ) ? false : true;\n    const localLastPostIdExists = () => (localStorage.getItem(\"lastPostId\") === null) ? false : true;\n    const getLocalLastPostId = () => (localLastPostIdExists()) ? localStorage.getItem(\"lastPostId\") : posts.getLastItem(); \n    const getLastPostId = () => (logIdExists()) ? logId : getLocalLastPostId();\n    const localLogExists = () => (localStorage.getItem(logId) === null) ? false : true;\n    const getLog = () => (localLogExists()) ? JSON.parse(localStorage.getItem(logId)) : templateData;\n\n    const [status, setStatus] = useState({\n        logId: logId,\n        lastPostId: getLastPostId(),\n        date: new Date(),\n        log: getLog(),\n        change: false,\n        spot: localStorage.getItem('spot')\n    });\n\n    const handleSelection = (groupTitle, label, selected) => {\n        console.log(`handleSelection => \\ngroupTitle: ${groupTitle}\\nlabel: ${label}\\nselected: ${selected}`)\n        if (typeof groupTitle === \"string\") {\n            const currentLog = status.log;\n            currentLog[groupTitle][label] = selected;\n            setStatus(prevState => ({\n                ...prevState,\n                log: currentLog,\n                change: true\n            }));\n            onChange(groupTitle, label, selected, true);\n        } \n    }\n    const updateNotes = (event) => {\n        handleSelection(\"Comments\", \"notes\", event.target.value);\n    }\n    const handleSubmit = (event) => {\n        console.log(`handleSubmit: ${JSON.stringify(status.log, null, 2)}`)\n        const recordId = generateNewLogId();\n        console.log(`handleSubmit: recordId: ${recordId}`)\n        let postDirectory = posts.getDirectory();\n        let post = \"\";\n        const logIt = () => {\n            postDirectory.push(recordId);\n            postDirectory = JSON.stringify(postDirectory);\n            console.log(`postDirectory: ${postDirectory}`)\n            post = JSON.stringify(status.log, null, 2);\n            console.log(`post: ${post}`)\n            localStorage.setItem(recordId, post);\n            //localStorage.setItem(\"postDirectory\", postDirectory);\n            posts.add(recordId);\n        }\n        logIt();\n        window.location.pathname = \"/reactor/LogDirectory\";\n    }\n    const handleSave = (event) => {\n        console.log(`handleSave: ${status.log}`)\n        const recordId = logId;\n        let post = \"\";\n        const logIt = () => {\n            post = JSON.stringify(status.log, null, 2);\n            console.log(`post: ${post}`)\n            localStorage.setItem(recordId, post);\n        }\n        logIt();\n        window.location.pathname = \"/reactor/LogDirectory\";\n    }\n    const handleDelete = () => {\n        console.log(`handleDelete => `)\n        const recordId = logId;\n        console.log(`handleDelete => recordId: ${recordId}`)\n        posts.delete(recordId);\n        window.location.pathname = \"/reactor/LogDirectory\";\n    }\n    const onDateChange = (date) => {\n        const day = date.getDate();\n        const month = date.getMonth()+1;\n        const year = date.getFullYear();\n        handleSelection(\"Day\", \"Date\", date);\n        handleSelection(\"Day\", \"Day\", day);\n        handleSelection(\"Day\", \"Month\", month);\n        handleSelection(\"Day\", \"Year\", year);\n    }\n    const getItems = () => items;\n    const selected = (item, groupTitle) => ((item.selections.indexOf(status.log[groupTitle][item.description])) !== -1) ? true : false;\n    const defaultSelection = (item, groupTitle) => (selected(item, groupTitle)) ? (item.selections.indexOf(status.log[groupTitle][item.description])) : 0; \n    \n    const radioItems = (item, groupTitle) => {\n        return (\n            <RadioSelector\n                header={groupTitle}\n                groupTitle={groupTitle} \n                selected={defaultSelection(item,groupTitle)} \n                label={item.description} \n                items={item.selections} \n                onChange={handleSelection}\n            />\n        )\n    };\n\n    const radio = (item, groupTitle) => <div className=\"r-vw bg-green\">\n                {radioItems(item, groupTitle)}\n            </div>;\n    \n    const selectionInterface = (item, groupTitle) => (item.type === 'radio') ? radio(item, groupTitle) : selector(item, groupTitle, status.spot, defaultSelection, handleSelection, selected);\n    const groups = () => getItems().map((item) => {\n        const headerClasses = 'subHeader color-yellow';\n        const selectorClasses = 'greet p-vw bg-vdkGreen flex3Column';\n        const groupClasses = (window.innerWidth < 500) ? \"r-vw\" : \"flexContainer width-100-percent r-vw\";\n        const description = item.description;\n        //console.log(`description: ${JSON.stringify(item,null,2)}`)\n       return <div key={getKey(\"groupConainer\")}>\n                    <div key={getKey(\"groupHeader\")} className={headerClasses}>\n                        {item.description}\n                    </div>\n                    <div className={groupClasses} key={getKey(\"groupSubConainer\")}>\n                        {group(item).map((group) => \n                            <div key={getKey(\"selectorContainer\")} className={selectorClasses}>\n                                {selectionInterface(group, description)}\n                            </div>\n                        )}\n                    </div>\n                </div>\n    });\n    const categories = () => {\n        status.selectorStatus = [];\n        return <div className='description'>{groups()}</div>;\n    }\n    const getLogObject = () => status.log;\n    const dateEntry = () => {\n        const logExists = (status.log !== undefined && status.log !== null && JSON.stringify(status.log, null, 2) !== \"{}\") ? true : false;\n        const stateLogDate = () => getLogObject().Day.Date;\n        const getDate = () => (logExists === true) ? new Date(stateLogDate()) : new Date(status.date);\n        return <React.Fragment>\n                    <div className='mb-5 subHeader color-yellow'>Date</div>\n                    <div className='flexContainer width-100-percent bg-vdkGreen'>\n                        <DatePicker\n                            onChange={onDateChange}\n                            value={getDate()} \n                            className='p-vw bg-green flex3Column r-vw m-vw'\n                        /><br/>\n                    </div>\n                </React.Fragment>\n    }\n    \n    return (\n        <Route>\n            <Dialog title={title} message={message}>\n                <form onSubmit={handleSubmit}>\n                    {dateEntry()}\n                    {categories()}\n                    <br/>\n                    <div className=\"mb-5\">Additional Comments: </div>\n                    <textarea \n                        rows=\"10\" \n                        cols={window.innerWidth/15} \n                        value={status.log.Comments.notes} \n                        onChange={updateNotes} \n                        className=\"mt-10 greet p-10 r-10 brdr-green\"\n                    /><br/><br/>\n                    <Link className=\"noUnderline color-black\"\n                        to=\"/LogDirectory\"\n                        onClick={() => handleSubmit()}>\n                        <div onClick={handleSubmit} className=\"button m-1 greet p-20 r-10 bg-green brdr-green\">\n                            {buttonLabel}\n                        </div>\n                    </Link> \n                    <Link className=\"noUnderline color-black\"\n                        to=\"/LogDirectory\"\n                        onClick={() => handleSave()}>\n                        <div onClick={handleSave} className=\"myButton m-1 greet p-20 r-10 bg-yellow brdr-yellow\">\n                            save\n                        </div>\n                    </Link>\n                    <Link className=\"noUnderline\"\n                        to=\"/LogDirectory\"\n                        onClick={() => handleDelete()}>\n                        <div onClick={handleDelete} className=\"button m-1 greet p-20 r-10 bg-red brdr-red\">\n                            delete\n                        </div>\n                    </Link>\n                    <PostDirectory />\n                </form>\n            </Dialog>\n        </Route>\n    );\n}\n\nexport default LogEntry;"]},"metadata":{},"sourceType":"module"}