{"ast":null,"code":"import _regeneratorRuntime from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import streams from'../../apis/streams.js';import history from'../utils/history.js';import{CREATE_STREAM,FETCH_STREAM,FETCH_STREAMS,DELETE_STREAM,EDIT_STREAM}from'../../actions/types';export var createStream=function createStream(formValues){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch,getState){var userId,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:userId=getState().auth.userId;_context.next=3;return streams.post('/streams',_objectSpread(_objectSpread({},formValues),{},{userId:userId}));case 3:response=_context.sent;console.log(\"history: \".concat(JSON.stringify(history,null,2)));dispatch({type:CREATE_STREAM,payload:response.data});history.push('/reactor/streams');//history.push('/');\nwindow.location.href='/reactor/streams';case 8:case\"end\":return _context.stop();}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var fetchStreams=function fetchStreams(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return streams.get('/streams');case 2:response=_context2.sent;dispatch({type:FETCH_STREAMS,payload:response.data});case 4:case\"end\":return _context2.stop();}},_callee2);}));return function(_x3){return _ref2.apply(this,arguments);};}();};export var fetchStream=function fetchStream(id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return streams.get(\"/streams/\".concat(id));case 2:response=_context3.sent;dispatch({type:FETCH_STREAM,payload:response.data});case 4:case\"end\":return _context3.stop();}},_callee3);}));return function(_x4){return _ref3.apply(this,arguments);};}();};export var editStream=function editStream(id,formValues){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return streams.patch(\"/streams/\".concat(id),formValues);case 2:response=_context4.sent;dispatch({type:EDIT_STREAM,payload:response.data});history.push('/reactor/streams');window.location.href='/reactor/streams';case 6:case\"end\":return _context4.stop();}},_callee4);}));return function(_x5){return _ref4.apply(this,arguments);};}();};export var deleteStream=function deleteStream(id){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(dispatch){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return streams.delete(\"/streams/\".concat(id));case 2:dispatch({type:DELETE_STREAM,payload:id});history.push('/reactor/streams');window.location.href='/reactor/streams';case 5:case\"end\":return _context5.stop();}},_callee5);}));return function(_x6){return _ref5.apply(this,arguments);};}();};","map":{"version":3,"names":["streams","history","CREATE_STREAM","FETCH_STREAM","FETCH_STREAMS","DELETE_STREAM","EDIT_STREAM","createStream","formValues","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","getState","userId","response","wrap","_callee$","_context","prev","next","auth","post","_objectSpread","sent","console","log","concat","JSON","stringify","type","payload","data","push","window","location","href","stop","_x","_x2","apply","arguments","fetchStreams","_ref2","_callee2","_callee2$","_context2","get","_x3","fetchStream","id","_ref3","_callee3","_callee3$","_context3","_x4","editStream","_ref4","_callee4","_callee4$","_context4","patch","_x5","deleteStream","_ref5","_callee5","_callee5$","_context5","delete","_x6"],"sources":["/Users/js/Dev/my-first-reactor/src/components/streams/StreamActions.js"],"sourcesContent":["import streams from '../../apis/streams.js';\nimport history from '../utils/history.js';\nimport { \n    CREATE_STREAM,\n    FETCH_STREAM,\n    FETCH_STREAMS,\n    DELETE_STREAM,\n    EDIT_STREAM\n} from '../../actions/types';\nexport const createStream = formValues => async (dispatch, getState) => {\n    const { userId } = getState().auth;\n    const response = await streams.post('/streams', { ...formValues, userId });\n    console.log(`history: ${JSON.stringify(history,null,2)}`)\n    dispatch({ \n        type: CREATE_STREAM, \n        payload: response.data \n    });\n    history.push('/reactor/streams');\n    //history.push('/');\n    window.location.href='/reactor/streams';\n}\nexport const fetchStreams = () => async dispatch => {\n    const response = await streams.get('/streams');\n    dispatch({ \n        type: FETCH_STREAMS, \n        payload: response.data \n    });\n\n}\nexport const fetchStream = (id) => async dispatch => {\n    const response = await streams.get(`/streams/${id}`);\n    dispatch({ \n        type: FETCH_STREAM, \n        payload: response.data \n    });\n}\nexport const editStream = (id, formValues) => async dispatch => {\n    const response = await streams.patch(`/streams/${id}`, formValues);\n    dispatch({ \n        type: EDIT_STREAM, \n        payload: response.data \n    });\n    history.push('/reactor/streams');\n    window.location.href='/reactor/streams';\n}\nexport const deleteStream = (id) => async dispatch => {\n    await streams.delete(`/streams/${id}`);\n    dispatch({ \n        type: DELETE_STREAM, \n        payload: id \n    });\n    history.push('/reactor/streams');\n    window.location.href='/reactor/streams';\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}