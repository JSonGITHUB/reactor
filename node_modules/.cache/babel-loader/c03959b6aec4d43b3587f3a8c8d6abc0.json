{"ast":null,"code":"import _regeneratorRuntime from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import config from'../apis/config';import{jsx as _jsx}from\"react/jsx-runtime\";var Translate=function Translate(_ref){var language=_ref.language,text=_ref.text;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),translated=_useState2[0],setTranslated=_useState2[1];var _useState3=useState(text),_useState4=_slicedToArray(_useState3,2),debouncedText=_useState4[0],setDebouncedText=_useState4[1];useEffect(function(){var timerId=setTimeout(function(){setDebouncedText(text);},800);return function(){clearTimeout(timerId);};},[text]);useEffect(function(){var getTranslation=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var proxyurl,_yield$axios$post,data,translated;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:// eslint-disable-next-line\nproxyurl=\"https://cors-anywhere.herokuapp.com/\";_context.next=3;return axios.post(config.googleAPI_BASE_URL,{},{params:{client:'gtx',q:debouncedText,target:language.value,key:config.googleAPI_KEY}}/*\n                                headers: {\"X-HTTP-Method-Override\":\"GET\"},\n                                url: \"https://www.googleapis.com/language/translate/v2\",\n                                dataType: \"jsonp\",\n                                data: { key: config.googleAPI_KEY,\n                                        source: SOURCE_LANGUAGE,\n                                        target: language.value,\n                                        q: debouncedText },\n                                success: function(result){\n                                    if(!result.error){\n                                    // translated text in \n                                    // result.data.translations[0].translatedText\n                                    }\n                                }\n                */);case 3:_yield$axios$post=_context.sent;data=_yield$axios$post.data;translated=data.data.translations[0].translatedText;setTranslated(translated);case 7:case\"end\":return _context.stop();}},_callee);}));return function getTranslation(){return _ref2.apply(this,arguments);};}();getTranslation();},[language,debouncedText]);return/*#__PURE__*/_jsx(\"div\",{className:\"ui mt-20 p-20 r-5 white size25 glassy\",children:translated});};export default Translate;","map":{"version":3,"names":["React","useState","useEffect","axios","config","jsx","_jsx","Translate","_ref","language","text","_useState","_useState2","_slicedToArray","translated","setTranslated","_useState3","_useState4","debouncedText","setDebouncedText","timerId","setTimeout","clearTimeout","getTranslation","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","proxyurl","_yield$axios$post","data","wrap","_callee$","_context","prev","next","post","googleAPI_BASE_URL","params","client","q","target","value","key","googleAPI_KEY","sent","translations","translatedText","stop","apply","arguments","className","children"],"sources":["/Users/js/Dev/my-first-reactor/src/components/translator/Translate.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport config from '../apis/config';\n\nconst Translate = ({language, text}) => {\n    const [translated, setTranslated] = useState('');\n    const [debouncedText, setDebouncedText] = useState(text);\n    \n    useEffect(() => {\n        const timerId = setTimeout(() => {\n            setDebouncedText(text);\n        }, 800);\n        return () => {\n            clearTimeout(timerId);\n        };\n    },[text]);\n    \n    useEffect(() => {\n        const getTranslation = async () => {\n            // eslint-disable-next-line\n            const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n            const { data } = await axios.post(\n                (config.googleAPI_BASE_URL), \n                {}, \n                {\n                    params: {\n                        client: 'gtx',\n                        q: debouncedText,\n                        target: language.value,\n                        key: config.googleAPI_KEY\n                    },\n                }\n                /*\n                                headers: {\"X-HTTP-Method-Override\":\"GET\"},\n                                url: \"https://www.googleapis.com/language/translate/v2\",\n                                dataType: \"jsonp\",\n                                data: { key: config.googleAPI_KEY,\n                                        source: SOURCE_LANGUAGE,\n                                        target: language.value,\n                                        q: debouncedText },\n                                success: function(result){\n                                    if(!result.error){\n                                    // translated text in \n                                    // result.data.translations[0].translatedText\n                                    }\n                                }\n                */\n            );\n            const translated = data.data.translations[0].translatedText;\n            setTranslated(translated);\n        };\n        getTranslation();\n    }, [language, debouncedText]);\n    return (\n        <div className='ui mt-20 p-20 r-5 white size25 glassy'>{translated}</div>\n    )\n};\n\nexport default Translate;"],"mappings":"4WAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEpC,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAAC,IAAA,CAAyB,IAApB,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAAEC,IAAI,CAAAF,IAAA,CAAJE,IAAI,CAC9B,IAAAC,SAAA,CAAoCV,QAAQ,CAAC,EAAE,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAChC,IAAAI,UAAA,CAA0Cf,QAAQ,CAACS,IAAI,CAAC,CAAAO,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjDE,aAAa,CAAAD,UAAA,IAAEE,gBAAgB,CAAAF,UAAA,IAEtCf,SAAS,CAAC,UAAM,CACZ,GAAM,CAAAkB,OAAO,CAAGC,UAAU,CAAC,UAAM,CAC7BF,gBAAgB,CAACT,IAAI,CAAC,CAC1B,CAAC,CAAE,GAAG,CAAC,CACP,MAAO,WAAM,CACTY,YAAY,CAACF,OAAO,CAAC,CACzB,CAAC,CACL,CAAC,CAAC,CAACV,IAAI,CAAC,CAAC,CAETR,SAAS,CAAC,UAAM,CACZ,GAAM,CAAAqB,cAAc,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,iBAAA,CAAAC,IAAA,CAAAjB,UAAA,QAAAY,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACnB;AACMP,QAAQ,CAAG,sCAAsC,CAAAK,QAAA,CAAAE,IAAA,SAChC,CAAAjC,KAAK,CAACkC,IAAI,CAC5BjC,MAAM,CAACkC,kBAAkB,CAC1B,CAAC,CAAC,CACF,CACIC,MAAM,CAAE,CACJC,MAAM,CAAE,KAAK,CACbC,CAAC,CAAEvB,aAAa,CAChBwB,MAAM,CAAEjC,QAAQ,CAACkC,KAAK,CACtBC,GAAG,CAAExC,MAAM,CAACyC,aAChB,CACJ,CACA;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBACY,CAAC,QAAAf,iBAAA,CAAAI,QAAA,CAAAY,IAAA,CA1BOf,IAAI,CAAAD,iBAAA,CAAJC,IAAI,CA2BNjB,UAAU,CAAGiB,IAAI,CAACA,IAAI,CAACgB,YAAY,CAAC,CAAC,CAAC,CAACC,cAAc,CAC3DjC,aAAa,CAACD,UAAU,CAAC,CAAC,wBAAAoB,QAAA,CAAAe,IAAA,MAAArB,OAAA,GAC7B,kBAhCK,CAAAL,cAAcA,CAAA,SAAAC,KAAA,CAAA0B,KAAA,MAAAC,SAAA,OAgCnB,CACD5B,cAAc,CAAC,CAAC,CACpB,CAAC,CAAE,CAACd,QAAQ,CAAES,aAAa,CAAC,CAAC,CAC7B,mBACIZ,IAAA,QAAK8C,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAEvC,UAAU,CAAM,CAAC,CAEjF,CAAC,CAED,cAAe,CAAAP,SAAS"},"metadata":{},"sourceType":"module"}