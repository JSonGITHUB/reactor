{"ast":null,"code":"import _objectSpread from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import N from'../../assets/images/windN.png';import NE from'../../assets/images/windNE.png';import E from'../../assets/images/windE.png';import SE from'../../assets/images/windSE.png';import S from'../../assets/images/windS.png';import SW from'../../assets/images/windSW.png';import W from'../../assets/images/windW.png';import NW from'../../assets/images/windNW.png';import useOceanData from'./useOceanData.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WindDirection=function WindDirection(_ref){var columns=_ref.columns,setWind=_ref.setWind,height=_ref.height;var uri='https://api.tidesandcurrents.noaa.gov/api/prod/datagetter?date=latest&station=9410230&product=wind&time_zone=lst&units=english&format=json';// eslint-disable-next-line\nvar _useOceanData=useOceanData('wind',uri),_useOceanData2=_slicedToArray(_useOceanData,2),data=_useOceanData2[0],getData=_useOceanData2[1];var _useState=useState({columns:columns,station:null,speed:null,angle:null,direction:null,gusts:null}),_useState2=_slicedToArray(_useState,2),status=_useState2[0],setStatus=_useState2[1];/*\n    {\n        \"metadata\":{\n            \"id\":\"9410230\",\n            \"name\":\"La Jolla\",\n            \"lat\":\"32.8669\",\n            \"lon\":\"-117.2571\"\n        }, \n        \"data\": [\n            {\n                \"t\":\"2020-05-20 20:00\", \n                \"s\":\"5.25\", \n                \"d\":\"313.00\",\n                 \"dr\":\"NW\", \n                 \"g\":\"7.39\", \n                 \"f\":\"0,0\"\n            }\n        ]\n    }\n    */useEffect(function(){//console.log(`getWindData =>`)\nif(data.data!==undefined){var station=data.metadata.name;var speed=data.data[data.data.length-1].s*1.15078;var angle=data.data[data.data.length-1].d;var direction=data.data[data.data.length-1].dr;var gusts=data.data[data.data.length-1].g*1.15078;localStorage.setItem('wind',direction);if(status.station!==station){setStatus(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{station:station,speed:speed,angle:angle,direction:direction,gusts:gusts});});setWind(data.data[data.data.length-1].dr,data.data[data.data.length-1].d,data.data[data.data.length-1].s,data.data[data.data.length-1].g);}}},[data,setWind,status.station]);/*\n    Water Level: 2.01 ft Above MLLW\n    Next Tide at 3:09 PM: Low 1.70 ft\n    Gusting to: 12.3 kts from WSW\n    */var getWindIcon=function getWindIcon(){var windDirection=status.direction;var classes=\"h50w50 r-25 p-5 mt-5 mb-5 bg-white\";if(windDirection===\"N\"){return/*#__PURE__*/_jsx(\"img\",{src:N,className:classes,alt:windDirection});}else if(windDirection===\"NE\"||windDirection===\"NNE\"||windDirection===\"ENE\"){return/*#__PURE__*/_jsx(\"img\",{src:NE,className:classes,alt:windDirection});}else if(windDirection===\"E\"){return/*#__PURE__*/_jsx(\"img\",{src:E,className:classes,alt:windDirection});}else if(windDirection===\"SE\"||windDirection===\"SSE\"||windDirection===\"ESE\"){return/*#__PURE__*/_jsx(\"img\",{src:SE,className:classes,alt:windDirection});}else if(windDirection===\"S\"){return/*#__PURE__*/_jsx(\"img\",{src:S,className:classes,alt:windDirection});}else if(windDirection===\"SW\"||windDirection===\"SSW\"||windDirection===\"WSW\"){return/*#__PURE__*/_jsx(\"img\",{src:SW,className:classes,alt:windDirection});}else if(windDirection===\"W\"){return/*#__PURE__*/_jsx(\"img\",{src:W,className:classes,alt:windDirection});}else if(windDirection===\"NW\"||windDirection===\"NNW\"||windDirection===\"WNW\"){return/*#__PURE__*/_jsx(\"img\",{src:NW,className:classes,alt:windDirection});}};var style={height:height};var getSpeed=function getSpeed(){return\"\".concat(Number(status.speed).toFixed(0),\"-\").concat(Number(status.gusts).toFixed(0));};var getStrength=function getStrength(){return Number(status.speed)<2?'light':Number(status.speed)>8?'strong':'moderate';};var simpleSpeed=getSpeed().split('-')[1]!==null?getSpeed().split('-')[1]:getSpeed();var getCurrentWind=function getCurrentWind(){var colorClass=Number(simpleSpeed)<7.1?\"color-neogreen\":\"\";return/*#__PURE__*/_jsxs(\"div\",{className:\"r-10 m-5 p-10 bg-lite white centeredContent\",style:style,children:[getWindIcon(),/*#__PURE__*/_jsx(\"div\",{className:\"m-2\",children:\"\".concat(getStrength())}),/*#__PURE__*/_jsx(\"div\",{className:\"m-2\",children:\"\".concat(status.direction,\" \").concat(Number(status.angle).toFixed(0),\"\\xB0\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"m-2 \".concat(colorClass),children:[getSpeed(),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"greet\",children:\"mph\"})]})]});};return/*#__PURE__*/_jsx(React.Fragment,{children:getCurrentWind()});};export default WindDirection;","map":{"version":3,"names":["React","useState","useEffect","N","NE","E","SE","S","SW","W","NW","useOceanData","jsx","_jsx","jsxs","_jsxs","WindDirection","_ref","columns","setWind","height","uri","_useOceanData","_useOceanData2","_slicedToArray","data","getData","_useState","station","speed","angle","direction","gusts","_useState2","status","setStatus","undefined","metadata","name","length","s","d","dr","g","localStorage","setItem","prevState","_objectSpread","getWindIcon","windDirection","classes","src","className","alt","style","getSpeed","concat","Number","toFixed","getStrength","simpleSpeed","split","getCurrentWind","colorClass","children","Fragment"],"sources":["/Users/js/Dev/my-first-reactor/src/components/waves/WindDirection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport N from '../../assets/images/windN.png';\nimport NE from '../../assets/images/windNE.png';\nimport E from '../../assets/images/windE.png';\nimport SE from '../../assets/images/windSE.png';\nimport S from '../../assets/images/windS.png';\nimport SW from '../../assets/images/windSW.png';\nimport W from '../../assets/images/windW.png';\nimport NW from '../../assets/images/windNW.png';\nimport useOceanData from './useOceanData.js';\n\nconst WindDirection = ({columns, setWind, height}) => {\n    \n    const uri = 'https://api.tidesandcurrents.noaa.gov/api/prod/datagetter?date=latest&station=9410230&product=wind&time_zone=lst&units=english&format=json';\n    // eslint-disable-next-line\n    const [data, getData] = useOceanData('wind', uri);\n\n    const [status, setStatus] = useState({\n        columns: columns,\n        station: null,\n        speed: null,\n        angle: null,\n        direction: null,\n        gusts: null\n    });\n    /*\n    {\n        \"metadata\":{\n            \"id\":\"9410230\",\n            \"name\":\"La Jolla\",\n            \"lat\":\"32.8669\",\n            \"lon\":\"-117.2571\"\n        }, \n        \"data\": [\n            {\n                \"t\":\"2020-05-20 20:00\", \n                \"s\":\"5.25\", \n                \"d\":\"313.00\",\n                 \"dr\":\"NW\", \n                 \"g\":\"7.39\", \n                 \"f\":\"0,0\"\n            }\n        ]\n    }\n    */\n   useEffect(() => {\n        //console.log(`getWindData =>`)\n        if (data.data !== undefined) {\n            \n            const station = data.metadata.name;\n            const speed = data.data[data.data.length - 1].s * 1.15078;\n            const angle = data.data[data.data.length - 1].d;\n            const direction = data.data[data.data.length - 1].dr;\n            const gusts = data.data[data.data.length - 1].g * 1.15078;\n            localStorage.setItem('wind', direction);\n            if (status.station !== station) {\n                setStatus(prevState => ({\n                    ...prevState,\n                    station: station,\n                    speed: speed,\n                    angle: angle,\n                    direction: direction,\n                    gusts: gusts\n                }))\n                setWind(data.data[data.data.length - 1].dr, data.data[data.data.length - 1].d, data.data[data.data.length - 1].s, data.data[data.data.length - 1].g);\n            }\n        }\n    },[data, setWind, status.station]);\n\n    /*\n    Water Level: 2.01 ft Above MLLW\n    Next Tide at 3:09 PM: Low 1.70 ft\n    Gusting to: 12.3 kts from WSW\n    */\n    const getWindIcon = () => {\n        const windDirection = status.direction;\n        const classes = \"h50w50 r-25 p-5 mt-5 mb-5 bg-white\";\n        if (windDirection === \"N\") {\n            return <img src={N} className={classes} alt={windDirection} />;\n        } else if ((windDirection === \"NE\") || (windDirection === \"NNE\") || (windDirection === \"ENE\")) {\n            return <img src={NE} className={classes} alt={windDirection} />;\n        } else if (windDirection === \"E\") {\n            return <img src={E} className={classes} alt={windDirection} />;\n        } else if ((windDirection === \"SE\") || (windDirection === \"SSE\") || (windDirection === \"ESE\")) {\n            return <img src={SE} className={classes} alt={windDirection} />;\n        } else if (windDirection === \"S\") {\n            return <img src={S} className={classes} alt={windDirection} />;\n        } else if ((windDirection === \"SW\") || (windDirection === \"SSW\") || (windDirection === \"WSW\")) {\n            return <img src={SW} className={classes} alt={windDirection} />;\n        } else if (windDirection === \"W\") {\n            return <img src={W} className={classes} alt={windDirection} />;\n        } else if ((windDirection === \"NW\") || (windDirection === \"NNW\") || (windDirection === \"WNW\")) {\n            return <img src={NW} className={classes} alt={windDirection} />;\n        }\n    }\n    const style = {\n        height: height\n    }\n    const getSpeed = () => `${Number(status.speed).toFixed(0)}-${Number(status.gusts).toFixed(0)}`;\n    const getStrength = () => (Number(status.speed)<2) ? 'light' : (Number(status.speed)>8) ? 'strong' : 'moderate';\n    const simpleSpeed = (getSpeed().split('-')[1] !== null) ? getSpeed().split('-')[1] : getSpeed();\n    const getCurrentWind = () => {\n        const colorClass = (Number(simpleSpeed) < 7.1) ? \"color-neogreen\" : \"\";\n        return (\n            <div className='r-10 m-5 p-10 bg-lite white centeredContent' style={style}>\n                {getWindIcon()}\n                <div className='m-2'>{`${getStrength()}`}</div>\n                <div className='m-2'>{`${status.direction} ${Number(status.angle).toFixed(0)}°`}</div>\n                <div className={`m-2 ${colorClass}`}>{getSpeed()} <span className=\"greet\">mph</span></div>\n            </div>\n        )\n    }\n    return <React.Fragment>{getCurrentWind()}</React.Fragment>\n}\n\nexport default WindDirection;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}