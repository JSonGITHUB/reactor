{"ast":null,"code":"var _jsxFileName = \"/Users/js/Dev/my-first-reactor/src/components/waves/PostDirectory.js\";\nimport React, { forwardRef, useRef, useImperativeHandle } from 'react';\nconst PostDirectory = forwardRef((props, ref) => {\n  let postDirectory = localStorage.getItem(\"postDirectory\") === null ? [] : JSON.parse(localStorage.getItem(\"postDirectory\"));\n  const uniquePosts = [...new Set(postDirectory)];\n  const index = uniquePosts.indexOf(null);\n\n  if (index > -1) {\n    uniquePosts.splice(index, 1);\n  }\n\n  localStorage.setItem(\"postDirectory\", JSON.stringify(uniquePosts));\n  postDirectory = uniquePosts;\n\n  const getDirectory = () => postDirectory;\n\n  const removeLastId = () => postDirectory.pop();\n\n  const deleteLast = () => {\n    console.log(`PostDirectory => deleteLast()`);\n    postDirectory = removeLastId();\n    localStorage.setItem(\"postDirectory\", JSON.stringify(postDirectory));\n  };\n\n  const add = id => {\n    console.log(`PostDirectory => add(${id})`);\n    postDirectory.push(id);\n    localStorage.setItem(\"postDirectory\", JSON.stringify(postDirectory));\n  };\n\n  const deleteIt = id => {\n    console.log(`PostDirectory => delete(${id})`);\n    const index = postDirectory.indexOf(String(id));\n    console.log(`${index} of ${postDirectory.length}`);\n    postDirectory.splice(index, 1);\n    console.log(`${index} of ${postDirectory.length}`);\n    localStorage.setItem(\"postDirectory\", JSON.stringify(postDirectory));\n    localStorage.removeItem(id);\n    localStorage.setItem(\"lastPostId\", `${postDirectory[postDirectory.length - 1]}`);\n  };\n\n  const getLastIndex = () => Number(postDirectory.length - 1);\n\n  useImperativeHandle(ref, () => ({\n    getLastId() {\n      postDirectory[getLastIndex()];\n    },\n\n    get2ndToLastId() {\n      postDirectory[getLastIndex() - 1];\n    },\n\n    getStorageItem(id) {\n      localStorage.getItem(id);\n    },\n\n    getLastItem() {\n      localStorage.getItem(getLastId()) === null ? JSON.parse(getStorageItem(get2ndToLastId())) : JSON.parse(getStorageItem(getLastId()));\n    }\n\n  }));\n  return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 12\n    }\n  }, \"Count: \", postDirectory.length);\n});\nexport default PostDirectory;\n/*\nimport React from 'react';\nclass PostDirectory extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.postDirectory = (localStorage.getItem(\"postDirectory\") === null) ? [] : JSON.parse(localStorage.getItem(\"postDirectory\"));        \n        this.uniquePosts = [...new Set(this.postDirectory)];\n        const index = this.uniquePosts.indexOf(null);\n        if (index > -1) {\n            this.uniquePosts.splice(index, 1);\n        }\n        localStorage.setItem(\"postDirectory\", JSON.stringify(this.uniquePosts))\n        this.state = {\n            postDirectory: this.uniquePosts,\n        };\n    }\n    \n     getDirectory = () => this.postDirectory;\n     removeLastId = () => this.postDirectory.pop();\n     deleteLast = () => {\n         console.log(`PostDirectory => deleteLast()`)\n         this.postDirectory = this.removeLastId();\n         localStorage.setItem(\"postDirectory\", JSON.stringify(this.postDirectory))\n         this.setState({\n             postDirectory: this.postDirectory\n         }); \n     }\n     add = (id) => {\n         console.log(`PostDirectory => add(${id})`);\n         this.postDirectory.push(id);\n         localStorage.setItem(\"postDirectory\", JSON.stringify(this.postDirectory))\n     }\n     delete = (id) => {\n         console.log(`PostDirectory => delete(${id})`)\n         const index = this.postDirectory.indexOf(String(id));\n         console.log(`${index} of ${this.postDirectory.length}`)\n         this.postDirectory.splice(index, 1);\n         console.log(`${index} of ${this.postDirectory.length}`)\n         localStorage.setItem(\"postDirectory\", JSON.stringify(this.postDirectory))\n         localStorage.removeItem(id);\n         localStorage.setItem(\"lastPostId\", `${this.postDirectory[this.postDirectory.length-1]}`);\n         this.setState({\n             postDirectory: this.postDirectory\n         });\n     }\n     getLastIndex = () => Number(this.state.postDirectory.length-1);\n     getLastId = () => this.state.postDirectory[this.getLastIndex()];\n     get2ndToLastId = () => this.state.postDirectory[this.getLastIndex()-1];\n     getStorageItem = (id) => localStorage.getItem(id)\n     getLastItem = () => (localStorage.getItem(this.getLastId()) === null) ? JSON.parse(this.getStorageItem(this.get2ndToLastId())) : JSON.parse(this.getStorageItem(this.getLastId()));\n     render() {      \n             return <p>Count: {this.state.postDirectory.length}</p> \n     }\n     \n }\n export default PostDirectory;\n */","map":{"version":3,"sources":["/Users/js/Dev/my-first-reactor/src/components/waves/PostDirectory.js"],"names":["React","forwardRef","useRef","useImperativeHandle","PostDirectory","props","ref","postDirectory","localStorage","getItem","JSON","parse","uniquePosts","Set","index","indexOf","splice","setItem","stringify","getDirectory","removeLastId","pop","deleteLast","console","log","add","id","push","deleteIt","String","length","removeItem","getLastIndex","Number","getLastId","get2ndToLastId","getStorageItem","getLastItem"],"mappings":"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","sourcesContent":["import React, { forwardRef, useRef, useImperativeHandle } from 'react';\n\nconst PostDirectory = forwardRef((props, ref) => {\n\n    let postDirectory = (localStorage.getItem(\"postDirectory\") === null) ? [] : JSON.parse(localStorage.getItem(\"postDirectory\"));        \n    const uniquePosts = [...new Set(postDirectory)];\n    const index = uniquePosts.indexOf(null);\n    if (index > -1) {\n        uniquePosts.splice(index, 1);\n    }\n    localStorage.setItem(\"postDirectory\", JSON.stringify(uniquePosts))\n    postDirectory = uniquePosts\n\n    const getDirectory = () => postDirectory;\n    const removeLastId = () => postDirectory.pop();\n    const deleteLast = () => {\n        console.log(`PostDirectory => deleteLast()`)\n        postDirectory = removeLastId();\n        localStorage.setItem(\"postDirectory\", JSON.stringify(postDirectory))\n    }\n    const add = (id) => {\n        console.log(`PostDirectory => add(${id})`);\n        postDirectory.push(id);\n        localStorage.setItem(\"postDirectory\", JSON.stringify(postDirectory))\n    }\n    const deleteIt = (id) => {\n        console.log(`PostDirectory => delete(${id})`)\n        const index = postDirectory.indexOf(String(id));\n        console.log(`${index} of ${postDirectory.length}`)\n        postDirectory.splice(index, 1);\n        console.log(`${index} of ${postDirectory.length}`)\n        localStorage.setItem(\"postDirectory\", JSON.stringify(postDirectory))\n        localStorage.removeItem(id);\n        localStorage.setItem(\"lastPostId\", `${postDirectory[postDirectory.length-1]}`);\n    }\n    const getLastIndex = () => Number(postDirectory.length-1);\n    useImperativeHandle(ref, () => ({\n        getLastId() { postDirectory[getLastIndex()] },\n        get2ndToLastId() { postDirectory[getLastIndex()-1] },\n        getStorageItem(id) { localStorage.getItem(id) },\n        getLastItem() { (localStorage.getItem(getLastId()) === null) ? JSON.parse(getStorageItem(get2ndToLastId())) : JSON.parse(getStorageItem(getLastId()))}\n    }));\n    return <p>Count: {postDirectory.length}</p> \n})\nexport default PostDirectory;\n\n/*\nimport React from 'react';\nclass PostDirectory extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.postDirectory = (localStorage.getItem(\"postDirectory\") === null) ? [] : JSON.parse(localStorage.getItem(\"postDirectory\"));        \n        this.uniquePosts = [...new Set(this.postDirectory)];\n        const index = this.uniquePosts.indexOf(null);\n        if (index > -1) {\n            this.uniquePosts.splice(index, 1);\n        }\n        localStorage.setItem(\"postDirectory\", JSON.stringify(this.uniquePosts))\n        this.state = {\n            postDirectory: this.uniquePosts,\n        };\n    }\n    \n     getDirectory = () => this.postDirectory;\n     removeLastId = () => this.postDirectory.pop();\n     deleteLast = () => {\n         console.log(`PostDirectory => deleteLast()`)\n         this.postDirectory = this.removeLastId();\n         localStorage.setItem(\"postDirectory\", JSON.stringify(this.postDirectory))\n         this.setState({\n             postDirectory: this.postDirectory\n         }); \n     }\n     add = (id) => {\n         console.log(`PostDirectory => add(${id})`);\n         this.postDirectory.push(id);\n         localStorage.setItem(\"postDirectory\", JSON.stringify(this.postDirectory))\n     }\n     delete = (id) => {\n         console.log(`PostDirectory => delete(${id})`)\n         const index = this.postDirectory.indexOf(String(id));\n         console.log(`${index} of ${this.postDirectory.length}`)\n         this.postDirectory.splice(index, 1);\n         console.log(`${index} of ${this.postDirectory.length}`)\n         localStorage.setItem(\"postDirectory\", JSON.stringify(this.postDirectory))\n         localStorage.removeItem(id);\n         localStorage.setItem(\"lastPostId\", `${this.postDirectory[this.postDirectory.length-1]}`);\n         this.setState({\n             postDirectory: this.postDirectory\n         });\n     }\n     getLastIndex = () => Number(this.state.postDirectory.length-1);\n     getLastId = () => this.state.postDirectory[this.getLastIndex()];\n     get2ndToLastId = () => this.state.postDirectory[this.getLastIndex()-1];\n     getStorageItem = (id) => localStorage.getItem(id)\n     getLastItem = () => (localStorage.getItem(this.getLastId()) === null) ? JSON.parse(this.getStorageItem(this.get2ndToLastId())) : JSON.parse(this.getStorageItem(this.getLastId()));\n     render() {      \n             return <p>Count: {this.state.postDirectory.length}</p> \n     }\n     \n }\n export default PostDirectory;\n */\n "]},"metadata":{},"sourceType":"module"}