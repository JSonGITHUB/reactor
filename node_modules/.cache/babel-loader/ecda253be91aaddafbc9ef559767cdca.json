{"ast":null,"code":"var _jsxFileName = \"/Users/js/Dev/my-first-reactor/src/components/waves/LoggerFunctional.js\";\nimport React, { useState, useEffect } from 'react';\nimport LogEntry from './LogEntryFunctional.js';\nimport Loader from '../utils/Loader.js';\nimport interfaceData from './InterfaceData.js';\nimport templateData from './TemplateData.js';\n\nconst Logger = ({\n  logId,\n  location\n}) => {\n  const logExists = () => localStorage.getItem(logId) === null ? false : true;\n\n  const generateNewLogId = () => {\n    const date = new Date();\n    const st = date.toDateString().replace(/ /g, \"\");\n    const nd = date.toLocaleTimeString().replace(/ /g, \"\");\n    localStorage.setItem(\"lastPostId\", `${st}${nd}`);\n    const newId = `${st}${nd}`;\n    console.log(`LogId: generateNewLogId => status.logId: ${newId}`);\n    return newId;\n  };\n\n  const initLogId = () => logExists() ? logId : generateNewLogId();\n\n  const initLog = () => logExists() ? JSON.parse(localStorage.getItem(logId)) : templateData;\n\n  const [status, setStatus] = useState({\n    logID: initLogId(),\n    log: initLog(),\n    isLoaded: false,\n    items: []\n  });\n\n  const getSpot = () => localStorage.getItem(\"spot\");\n\n  useEffect(() => {\n    const {\n      state\n    } = location;\n    const logId = state === undefined ? logId : state.logId.item;\n    console.log(`LoggerFunctional => componentDidMount -> SPOT: ${getSpot()}\\ngetLogId: ${logId}\\nlogId: ${logId}`);\n\n    if (localStorage.getItem(logId) === null) {\n      setStatus(prevState => ({ ...prevState,\n        log: templateData,\n        logID: generateNewLogId()\n      }));\n      console.log(`LoggerFunctional => componentDidMount -> 1\\nSPOT: ${getSpot()}\\nlogID: ${status.logID}\\nlog: ${JSON.stringify(status.log, null, 2)}`);\n    } else {\n      setStatus(prevState => ({ ...prevState,\n        log: JSON.parse(localStorage.getItem(logId)),\n        logID: logId\n      }));\n      console.log(`LoggerFunctional => componentDidMount -> 2\\nSPOT: ${getSpot()}\\nlogID: ${logId}\\nlog: ${JSON.stringify(status.log, null, 2)}`);\n    }\n\n    let data = interfaceData;\n\n    const returnJSON = response => response.json();\n\n    const returnRejection = response => Promise.reject({\n      status: response.status,\n      data\n    });\n\n    const validate = response => response.ok ? returnJSON(response) : returnRejection(response);\n    /*\n    const requestInit = {\n        method:'GET',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        mode: 'cors',\n        cache: 'default'\n    };\n    */\n    //const uri = new Request('https://jsongithub.github.io/portfolio/assets/data/appData.json', requestInit);\n    //GOOD const uri = 'https://jsongithub.github.io/portfolio/assets/data/appData.json';\n\n\n    const uri = 'https://jsongithub.github.io/portfolio/assets/data/appData.json'; //const uri = 'localhost:8080/writeSurfLog.json';\n\n    /*\n    fetch(uri)\n        .then(response => validate(response))\n        .then(data => {\n            setIsLoaded(true);\n            setItems(data);\n            setLogID(logId);\n        })\n        .catch(err => console.log(`Something went wrong!\\nuri: ${uri} \\npath: ${window.location.pathname}\\n`, err));\n    */\n\n    setStatus({\n      log: JSON.parse(localStorage.getItem(logId)),\n      logID: logId,\n      items: data,\n      isLoaded: true\n    });\n  }, [location]);\n\n  const updateLog = (groupTitle, label, selected, set) => {\n    console.log(`updateLog => \\ngroupTitle: ${groupTitle} \\nlabel: ${label}\\nselected: ${selected}\\nset: ${set}`);\n    const log = status.log;\n    log[groupTitle][label] = selected;\n\n    if (groupTitle !== undefined && groupTitle !== 1 && selected !== undefined && set) {\n      setStatus(prevState => ({ ...prevState,\n        log: log\n      }));\n    }\n  };\n\n  const getStateLog = () => status.log; //console.log(`LoggerFunctional ===> ${JSON.stringify(status.items, null, 2)}`);\n\n\n  let appInterface = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App-content fadeIn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex3Column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex3Column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex3Column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 29\n    }\n  }));\n\n  if (status.isLoaded) {\n    appInterface = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App-content fadeIn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex3Column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex3Column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(LogEntry, {\n      logId: status.logID,\n      onChange: updateLog,\n      getStateLog: getStateLog,\n      title: \"Session Log\",\n      message: \"Add your session data\",\n      buttonLabel: \"submit\",\n      items: status.items,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex3Column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }));\n  }\n\n  return appInterface;\n};\n\nexport default Logger;","map":{"version":3,"sources":["/Users/js/Dev/my-first-reactor/src/components/waves/LoggerFunctional.js"],"names":["React","useState","useEffect","LogEntry","Loader","interfaceData","templateData","Logger","logId","location","logExists","localStorage","getItem","generateNewLogId","date","Date","st","toDateString","replace","nd","toLocaleTimeString","setItem","newId","console","log","initLogId","initLog","JSON","parse","status","setStatus","logID","isLoaded","items","getSpot","state","undefined","item","prevState","stringify","data","returnJSON","response","json","returnRejection","Promise","reject","validate","ok","uri","updateLog","groupTitle","label","selected","set","getStateLog","appInterface"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport LogEntry from './LogEntryFunctional.js';\nimport Loader from '../utils/Loader.js';\nimport interfaceData from './InterfaceData.js'\nimport templateData from './TemplateData.js';\nconst Logger = ({logId, location}) => {\n\n    const logExists = () => (localStorage.getItem(logId) === null) ? false : true;\n    const generateNewLogId = () => {\n        const date = new Date()\n        const st = date.toDateString().replace(/ /g,\"\");\n        const nd = date.toLocaleTimeString().replace(/ /g,\"\");\n        localStorage.setItem(\"lastPostId\", `${st}${nd}`);\n        const newId = `${st}${nd}`;\n        console.log(`LogId: generateNewLogId => status.logId: ${newId}`);\n        return newId;\n    }\n    const initLogId = () => (logExists()) ? logId : generateNewLogId();\n    const initLog = () => (logExists()) ? JSON.parse(localStorage.getItem(logId)) : templateData;\n    const [status, setStatus] = useState({\n        logID: initLogId(),\n        log: initLog(),\n        isLoaded: false,\n        items: []\n    })\n    const getSpot = () => localStorage.getItem(\"spot\");\n    useEffect(() => {\n        const { state } = location;\n        const logId = (state === undefined) ? logId : state.logId.item;\n        console.log(`LoggerFunctional => componentDidMount -> SPOT: ${getSpot()}\\ngetLogId: ${logId}\\nlogId: ${logId}`); \n        \n        if (localStorage.getItem(logId) === null) {\n            setStatus(prevState => ({\n                ...prevState,\n                log: templateData,\n                logID:generateNewLogId()\n            }));\n            console.log(`LoggerFunctional => componentDidMount -> 1\\nSPOT: ${getSpot()}\\nlogID: ${status.logID}\\nlog: ${JSON.stringify(status.log, null, 2)}`); \n        \n        } else {\n            setStatus(prevState => ({\n                ...prevState,\n                log: JSON.parse(localStorage.getItem(logId)),\n                logID: logId\n            }));\n            console.log(`LoggerFunctional => componentDidMount -> 2\\nSPOT: ${getSpot()}\\nlogID: ${logId}\\nlog: ${JSON.stringify(status.log, null, 2)}`); \n        }\n        \n        let data = interfaceData;\n        const returnJSON = (response) => response.json();\n        const returnRejection = (response) => Promise.reject({status: response.status, data});\n        const validate = (response) => (response.ok) ? returnJSON(response) : returnRejection(response);\n        /*\n        const requestInit = {\n            method:'GET',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            mode: 'cors',\n            cache: 'default'\n        };\n        */\n        //const uri = new Request('https://jsongithub.github.io/portfolio/assets/data/appData.json', requestInit);\n        //GOOD const uri = 'https://jsongithub.github.io/portfolio/assets/data/appData.json';\n        const uri = 'https://jsongithub.github.io/portfolio/assets/data/appData.json';\n        //const uri = 'localhost:8080/writeSurfLog.json';\n        /*\n        fetch(uri)\n            .then(response => validate(response))\n            .then(data => {\n                setIsLoaded(true);\n                setItems(data);\n                setLogID(logId);\n            })\n            .catch(err => console.log(`Something went wrong!\\nuri: ${uri} \\npath: ${window.location.pathname}\\n`, err));\n        */\n        setStatus({\n            log: JSON.parse(localStorage.getItem(logId)),\n            logID: logId,\n            items: data,\n            isLoaded: true\n        });\n    }, [location])\n\n    const updateLog = (groupTitle, label, selected, set) => {\n        console.log(`updateLog => \\ngroupTitle: ${groupTitle} \\nlabel: ${label}\\nselected: ${selected}\\nset: ${set}`)\n        const log = status.log;\n        log[groupTitle][label] = selected;\n        if (groupTitle !== undefined && groupTitle !== 1 && selected !== undefined && set) {\n            setStatus(prevState => ({\n                ...prevState,\n                log: log\n            }));\n        }\n    }\n    const getStateLog = () => status.log;\n          \n    //console.log(`LoggerFunctional ===> ${JSON.stringify(status.items, null, 2)}`);\n    let appInterface = <div className=\"App-content fadeIn\">\n                            <div className=\"flex3Column\"></div>\n                            <div className=\"flex3Column\">\n                                <Loader />\n                            </div>\n                            <div className=\"flex3Column\"></div>\n                        </div>;\n    if (status.isLoaded) {\n        appInterface = <div className=\"App-content fadeIn\">\n            <div className=\"flex3Column\"></div>\n            <div className=\"flex3Column\">\n                <LogEntry\n                    logId={status.logID}\n                    onChange={updateLog} \n                    getStateLog={getStateLog} \n                    title=\"Session Log\" \n                    message=\"Add your session data\"  \n                    buttonLabel=\"submit\" \n                    items={status.items}\n                />\n            </div>\n            <div className=\"flex3Column\"></div>\n        </div>\n        \n    }\n    return (\n        appInterface            \n    )\n    \n}\nexport default Logger;"]},"metadata":{},"sourceType":"module"}