{"ast":null,"code":"import _regeneratorRuntime from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/js/Dev/my-first-reactor/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var ExchangeRates=function ExchangeRates(){// set endpoint and your access key\n//const endpoint = 'latest'\n//const endpoint = '2000-01-17'\nvar endpoint='convert';var access_key='58e53558ca998da70c28b76dba516368';var from='USD';var to='EUR';var amount=25;var templateData={success:true,timestamp:1519296206,base:\"EUR\",date:\"2021-03-17\",rates:{AUD:1.566015,CAD:1.560132,CHF:1.154727,CNY:7.827874,GBP:0.882047,JPY:132.360679,USD:1.23396}};//const [rates, setRates] = useState(null);\nvar _useState=useState(templateData),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){var fetchRates=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,_data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('http://localhost:3002/currency');case 3:response=_context.sent;_context.next=6;return response.json();case 6:_data=_context.sent;//alert(JSON.stringify(data.error.code, null, 2));\nconsole.log(\"templateData: \".concat(JSON.stringify(templateData,null,2)));console.log(\"data: \".concat(JSON.stringify(_data,null,2)));setData(_data);//setData(templateData);\n_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);//console.error('Error fetching exchange rates:', error);\nsetData(templateData);case 15:case\"end\":return _context.stop();}},_callee,null,[[0,12]]);}));return function fetchRates(){return _ref.apply(this,arguments);};}();fetchRates();},[]);if(!data){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}var rates=data.rates||templateData.rates;/*\n  return (\n    <div>\n      <h2>Exchange Rates</h2>\n      <ul>\n        {Object.entries(data.rates).map(([currency, rate]) => (\n          <li key={currency}>\n            {currency}: {rate}\n          </li>\n        ))}\n      </ul>\n      Error code: {data.error?.code}\n      <br/>\n      Error message: {data.error?.message}\n    </div>\n  );\n  */return JSON.stringify(rates,null,2);};export default ExchangeRates;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","ExchangeRates","endpoint","access_key","from","to","amount","templateData","success","timestamp","base","date","rates","AUD","CAD","CHF","CNY","GBP","JPY","USD","_useState","_useState2","_slicedToArray","data","setData","fetchRates","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","_data","wrap","_callee$","_context","prev","next","fetch","sent","json","console","log","concat","JSON","stringify","t0","stop","apply","arguments","children"],"sources":["/Users/js/Dev/my-first-reactor/src/components/utils/ExchangeRates.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst ExchangeRates = () => {\n\n  // set endpoint and your access key\n  //const endpoint = 'latest'\n  //const endpoint = '2000-01-17'\n  const endpoint = 'convert'\n  const access_key = '58e53558ca998da70c28b76dba516368';\n  const from = 'USD';\n  const to = 'EUR';\n  const amount = 25;\n\n  const templateData = {\n    success: true,\n    timestamp: 1519296206,\n    base: \"EUR\",\n    date: \"2021-03-17\",\n    rates: {\n          AUD: 1.566015,\n          CAD: 1.560132,\n          CHF: 1.154727,\n          CNY: 7.827874,\n          GBP: 0.882047,\n          JPY: 132.360679,\n          USD: 1.23396\n    }\n  }\n\n  //const [rates, setRates] = useState(null);\n  const [data, setData] = useState(templateData);\n\n  useEffect(() => {\n    const fetchRates = async () => {\n      try {\n        //const response = await fetch('https://api.exchangeratesapi.io/v1/' + endpoint + '?access_key=' + access_key + '&from=' + from + '&to=' + to + '&amount=' + amount);\n        const response = await fetch('http://localhost:3002/currency');\n        const data = await response.json();\n        //alert(JSON.stringify(data.error.code, null, 2));\n        console.log(`templateData: ${JSON.stringify(templateData, null, 2)}`);\n        console.log(`data: ${JSON.stringify(data, null, 2)}`);\n        setData(data);\n        //setData(templateData);\n      } catch (error) {\n        //console.error('Error fetching exchange rates:', error);\n        setData(templateData);\n      }\n    };\n\n    fetchRates();\n  }, []);\n\n  if (!data) {\n    return <div>Loading...</div>;\n  }\n  \n  const rates = data.rates || templateData.rates;\n  /*\n  return (\n    <div>\n      <h2>Exchange Rates</h2>\n      <ul>\n        {Object.entries(data.rates).map(([currency, rate]) => (\n          <li key={currency}>\n            {currency}: {rate}\n          </li>\n        ))}\n      </ul>\n      Error code: {data.error?.code}\n      <br/>\n      Error message: {data.error?.message}\n    </div>\n  );\n  */\n return JSON.stringify(rates,null,2);\n};\n\nexport default ExchangeRates;"],"mappings":"4WAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEnD,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAE1B;AACA;AACA;AACA,GAAM,CAAAC,QAAQ,CAAG,SAAS,CAC1B,GAAM,CAAAC,UAAU,CAAG,kCAAkC,CACrD,GAAM,CAAAC,IAAI,CAAG,KAAK,CAClB,GAAM,CAAAC,EAAE,CAAG,KAAK,CAChB,GAAM,CAAAC,MAAM,CAAG,EAAE,CAEjB,GAAM,CAAAC,YAAY,CAAG,CACnBC,OAAO,CAAE,IAAI,CACbC,SAAS,CAAE,UAAU,CACrBC,IAAI,CAAE,KAAK,CACXC,IAAI,CAAE,YAAY,CAClBC,KAAK,CAAE,CACDC,GAAG,CAAE,QAAQ,CACbC,GAAG,CAAE,QAAQ,CACbC,GAAG,CAAE,QAAQ,CACbC,GAAG,CAAE,QAAQ,CACbC,GAAG,CAAE,QAAQ,CACbC,GAAG,CAAE,UAAU,CACfC,GAAG,CAAE,OACX,CACF,CAAC,CAED;AACA,IAAAC,SAAA,CAAwBvB,QAAQ,CAACU,YAAY,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAvCG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IAEpBvB,SAAS,CAAC,UAAM,CACd,GAAM,CAAA2B,UAAU,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,KAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGQ,CAAAC,KAAK,CAAC,gCAAgC,CAAC,QAAxDP,QAAQ,CAAAI,QAAA,CAAAI,IAAA,CAAAJ,QAAA,CAAAE,IAAA,SACK,CAAAN,QAAQ,CAACS,IAAI,CAAC,CAAC,QAA5BjB,KAAI,CAAAY,QAAA,CAAAI,IAAA,CACV;AACAE,OAAO,CAACC,GAAG,kBAAAC,MAAA,CAAkBC,IAAI,CAACC,SAAS,CAACtC,YAAY,CAAE,IAAI,CAAE,CAAC,CAAC,CAAE,CAAC,CACrEkC,OAAO,CAACC,GAAG,UAAAC,MAAA,CAAUC,IAAI,CAACC,SAAS,CAACtB,KAAI,CAAE,IAAI,CAAE,CAAC,CAAC,CAAE,CAAC,CACrDC,OAAO,CAACD,KAAI,CAAC,CACb;AAAAY,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAW,EAAA,CAAAX,QAAA,aAEA;AACAX,OAAO,CAACjB,YAAY,CAAC,CAAC,yBAAA4B,QAAA,CAAAY,IAAA,MAAAjB,OAAA,iBAEzB,kBAdK,CAAAL,UAAUA,CAAA,SAAAC,IAAA,CAAAsB,KAAA,MAAAC,SAAA,OAcf,CAEDxB,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,GAAI,CAACF,IAAI,CAAE,CACT,mBAAOvB,IAAA,QAAAkD,QAAA,CAAK,YAAU,CAAK,CAAC,CAC9B,CAEA,GAAM,CAAAtC,KAAK,CAAGW,IAAI,CAACX,KAAK,EAAIL,YAAY,CAACK,KAAK,CAC9C;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IACC,MAAO,CAAAgC,IAAI,CAACC,SAAS,CAACjC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CACpC,CAAC,CAED,cAAe,CAAAX,aAAa"},"metadata":{},"sourceType":"module"}