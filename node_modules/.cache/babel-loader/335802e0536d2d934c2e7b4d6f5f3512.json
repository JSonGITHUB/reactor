{"ast":null,"code":"var _jsxFileName = \"/Users/js/Dev/my-first-reactor/src/components/utils/TideTable.js\";\nimport React from 'react';\nimport Loader from '../utils/Loader.js'; //import tide from '../../assets/images/tide.png'\n\nclass TideTable extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getTideData = () => {\n      let data;\n\n      const returnJSON = response => response.json();\n\n      const returnRejection = response => Promise.reject({\n        status: response.status,\n        data\n      });\n\n      const validate = response => response.ok ? returnJSON(response) : returnRejection(response);\n\n      let getCurrentTime = new Date();\n      getCurrentTime = `${getCurrentTime.getFullYear()}${getCurrentTime.getMonth() + 1 < 10 ? `0${getCurrentTime.getMonth() + 1}` : getCurrentTime.getMonth() + 1}${getCurrentTime.getDate() < 10 ? `0${getCurrentTime.getDate()}` : getCurrentTime.getDate()}%20${getCurrentTime.getHours() < 10 ? `0${getCurrentTime.getHours()}` : getCurrentTime.getHours()}:00`;\n      console.log(`TideTable   -      getCurrentTime: ${getCurrentTime} ===> 20200520%2018:24`);\n      const uri = `https://tidesandcurrents.noaa.gov/api/datagetter?product=predictions&application=NOS.COOPS.TAC.WL&begin_date=${getCurrentTime}&end_date=${getCurrentTime}&datum=MLLW&station=9410230&time_zone=GMT&units=english&interval=&format=json`; //const waterTempuri = `https://tidesandcurrents.noaa.gov/api/datagetter?begin_date=${getCurrentTime}&end_date=${getCurrentTime}&station=9410230&product=water_temperature&datum=mllw&units=english&time_zone=gmt&application=web_services&format=json`;\n\n      fetch(uri).then(response => validate(response)).then(data => {\n        this.setState({\n          station: data.metadata.name,\n          tide: \"HIGH\",\n          height: Number(data.data[0].v).toFixed(1)\n        });\n      }).catch(err => console.log(`Something went wrong!\\nuri: ${uri} \\npath: ${window.location.pathname}\\n`, err));\n    };\n\n    this.getCurrentTideTable = () => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 33\n      }\n    }, this.state.height, \" \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"greet\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 58\n      }\n    }, \"feet\"));\n\n    this.percent = 'twentyfivePercent mt--70 mb--70';\n\n    this.loading = () => /*#__PURE__*/React.createElement(\"div\", {\n      className: this.percent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Loader, {\n      isMotionOn: this.props.isMotionOn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }));\n\n    this.state = {\n      tide: \"low\",\n      height: \"1'\"\n    };\n  }\n\n  componentDidMount() {\n    this.getTideData();\n    this.timerID = setInterval(() => this.tick(), 60000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n  }\n\n  tick() {\n    console.log(`getTideTable ->`);\n    this.getTideData();\n    this.props.setTideTable(this.state.height);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"iframe\", {\n      title: \"surf report\",\n      src: \"https://www.ndbc.noaa.gov/widgets/station_page.php?station=46224\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 121\n      }\n    }), /*#__PURE__*/React.createElement(\"iframe\", {\n      src: \"https://www.ndbc.noaa.gov/widgets/station_page.php?station=46225\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 102\n      }\n    }), /*#__PURE__*/React.createElement(\"iframe\", {\n      src: \"https://www.ndbc.noaa.gov/widgets/station_page.php?station=46266\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 101\n      }\n    }), /*#__PURE__*/React.createElement(\"iframe\", {\n      src: \"https://www.ndbc.noaa.gov/widgets/station_page.php?station=46254\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 101\n      }\n    }), /*#__PURE__*/React.createElement(\"iframe\", {\n      src: \"https://www.ndbc.noaa.gov/widgets/station_page.php?station=LJAC1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 101\n      }\n    }), /*#__PURE__*/React.createElement(\"iframe\", {\n      src: \"https://www.ndbc.noaa.gov/widgets/station_page.php?station=LJPC1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 101\n      }\n    }), /*#__PURE__*/React.createElement(\"iframe\", {\n      src: \"https://www.ndbc.noaa.gov/widgets/station_page.php?station=46232\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 101\n      }\n    }));\n  }\n\n}\n\nexport default TideTable;","map":{"version":3,"sources":["/Users/js/Dev/my-first-reactor/src/components/utils/TideTable.js"],"names":["React","Loader","TideTable","Component","constructor","props","getTideData","data","returnJSON","response","json","returnRejection","Promise","reject","status","validate","ok","getCurrentTime","Date","getFullYear","getMonth","getDate","getHours","console","log","uri","fetch","then","setState","station","metadata","name","tide","height","Number","v","toFixed","catch","err","window","location","pathname","getCurrentTideTable","state","percent","loading","isMotionOn","componentDidMount","timerID","setInterval","tick","componentWillUnmount","clearInterval","setTideTable","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Loader from '../utils/Loader.js';\n//import tide from '../../assets/images/tide.png'\n\nclass TideTable extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            tide: \"low\",\n\n            height: \"1'\"\n        }\n    }\n    getTideData = () => {\n        let data;\n        const returnJSON = (response) => response.json();\n        const returnRejection = (response) => Promise.reject({status: response.status,\n data});\n        const validate = (response) => (response.ok) ? returnJSON(response) : returnRejection(response);\n        let getCurrentTime = new Date();\n        getCurrentTime = `${(getCurrentTime.getFullYear())}${((getCurrentTime.getMonth()+1)<10) ? `0${(getCurrentTime.getMonth()+1)}` : (getCurrentTime.getMonth()+1)}${(getCurrentTime.getDate()<10)? `0${getCurrentTime.getDate()}` : getCurrentTime.getDate()}%20${((getCurrentTime.getHours())<10) ? `0${(getCurrentTime.getHours())}` : (getCurrentTime.getHours())}:00`\n        console.log(`TideTable   -      getCurrentTime: ${getCurrentTime} ===> 20200520%2018:24`)\n        \n        const uri = `https://tidesandcurrents.noaa.gov/api/datagetter?product=predictions&application=NOS.COOPS.TAC.WL&begin_date=${getCurrentTime}&end_date=${getCurrentTime}&datum=MLLW&station=9410230&time_zone=GMT&units=english&interval=&format=json`;\n        \n        //const waterTempuri = `https://tidesandcurrents.noaa.gov/api/datagetter?begin_date=${getCurrentTime}&end_date=${getCurrentTime}&station=9410230&product=water_temperature&datum=mllw&units=english&time_zone=gmt&application=web_services&format=json`;\n        fetch(uri)\n            .then(response => validate(response))\n            .then(data => {\n                this.setState({\n                    station: data.metadata.name,\n\n                    tide:\"HIGH\",\n\n                    height: Number(data.data[0].v).toFixed(1)\n                })\n            })\n            .catch(err => console.log(`Something went wrong!\\nuri: ${uri} \\npath: ${window.location.pathname}\\n`,\n err));\n\n    }\n    componentDidMount() {\n        \n        this.getTideData();\n        this.timerID = setInterval(\n            () => this.tick(),\n\n            60000\n        );\n    }\n    componentWillUnmount() {\n        clearInterval(this.timerID);\n    }\n    tick() {\n        console.log(`getTideTable ->`);\n        this.getTideData();\n        this.props.setTideTable(this.state.height)\n    }\n    getCurrentTideTable = () => <div>{this.state.height} <span className=\"greet\">feet</span></div>;\n    percent = 'twentyfivePercent mt--70 mb--70';\n    loading = () => <div className={this.percent}>\n                <Loader isMotionOn={this.props.isMotionOn}/>\n            </div>;\n    render() {\n        return <div>\n            <iframe title=\"surf report\" src=\"https://www.ndbc.noaa.gov/widgets/station_page.php?station=46224\"></iframe><br/>\n            <iframe src=\"https://www.ndbc.noaa.gov/widgets/station_page.php?station=46225\" ></iframe><br/>\n            <iframe src=\"https://www.ndbc.noaa.gov/widgets/station_page.php?station=46266\"></iframe><br/>\n            <iframe src=\"https://www.ndbc.noaa.gov/widgets/station_page.php?station=46254\"></iframe><br/>\n            <iframe src=\"https://www.ndbc.noaa.gov/widgets/station_page.php?station=LJAC1\"></iframe><br/>\n            <iframe src=\"https://www.ndbc.noaa.gov/widgets/station_page.php?station=LJPC1\"></iframe><br/>\n            <iframe src=\"https://www.ndbc.noaa.gov/widgets/station_page.php?station=46232\"></iframe><br/>\n        </div>\n    };\n}\n\nexport default TideTable;"]},"metadata":{},"sourceType":"module"}