{"ast":null,"code":"var _jsxFileName = \"/Users/js/Dev/my-first-reactor/src/components/translator/Translate.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport config from '../apis/config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Translate = _ref => {\n  _s();\n  let {\n    language,\n    text\n  } = _ref;\n  const [translated, setTranslated] = useState('');\n  const [debouncedText, setDebouncedText] = useState(text);\n  useEffect(() => {\n    const timerId = setTimeout(() => {\n      setDebouncedText(text);\n    }, 800);\n    return () => {\n      clearTimeout(timerId);\n    };\n  }, [text]);\n  useEffect(() => {\n    const getTranslation = async () => {\n      // eslint-disable-next-line\n      const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n      const {\n        data\n      } = await axios.post(config.googleAPI_BASE_URL, {}, {\n        params: {\n          client: 'gtx',\n          q: debouncedText,\n          target: language.value,\n          key: config.googleAPI_KEY\n        }\n      }\n      /*\n                      headers: {\"X-HTTP-Method-Override\":\"GET\"},\n                      url: \"https://www.googleapis.com/language/translate/v2\",\n                      dataType: \"jsonp\",\n                      data: { key: config.googleAPI_KEY,\n                              source: SOURCE_LANGUAGE,\n                              target: language.value,\n                              q: debouncedText },\n                      success: function(result){\n                          if(!result.error){\n                          // translated text in \n                          // result.data.translations[0].translatedText\n                          }\n                      }\n      */);\n\n      const translated = data.data.translations[0].translatedText;\n      setTranslated(translated);\n    };\n    getTranslation();\n  }, [language, debouncedText]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ui mt-20 p-20 r-5 white size25 glassy\",\n    children: translated\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_s(Translate, \"YAbUi/RHxHsssYhTNVbLtHtGwvE=\");\n_c = Translate;\nexport default Translate;\nvar _c;\n$RefreshReg$(_c, \"Translate\");","map":{"version":3,"names":["React","useState","useEffect","axios","config","jsxDEV","_jsxDEV","Translate","_ref","_s","language","text","translated","setTranslated","debouncedText","setDebouncedText","timerId","setTimeout","clearTimeout","getTranslation","proxyurl","data","post","googleAPI_BASE_URL","params","client","q","target","value","key","googleAPI_KEY","translations","translatedText","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/js/Dev/my-first-reactor/src/components/translator/Translate.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport config from '../apis/config';\n\nconst Translate = ({language, text}) => {\n    const [translated, setTranslated] = useState('');\n    const [debouncedText, setDebouncedText] = useState(text);\n    \n    useEffect(() => {\n        const timerId = setTimeout(() => {\n            setDebouncedText(text);\n        }, 800);\n        return () => {\n            clearTimeout(timerId);\n        };\n    },[text]);\n    \n    useEffect(() => {\n        const getTranslation = async () => {\n            // eslint-disable-next-line\n            const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n            const { data } = await axios.post(\n                (config.googleAPI_BASE_URL), \n                {}, \n                {\n                    params: {\n                        client: 'gtx',\n                        q: debouncedText,\n                        target: language.value,\n                        key: config.googleAPI_KEY\n                    },\n                }\n                /*\n                                headers: {\"X-HTTP-Method-Override\":\"GET\"},\n                                url: \"https://www.googleapis.com/language/translate/v2\",\n                                dataType: \"jsonp\",\n                                data: { key: config.googleAPI_KEY,\n                                        source: SOURCE_LANGUAGE,\n                                        target: language.value,\n                                        q: debouncedText },\n                                success: function(result){\n                                    if(!result.error){\n                                    // translated text in \n                                    // result.data.translations[0].translatedText\n                                    }\n                                }\n                */\n            );\n            const translated = data.data.translations[0].translatedText;\n            setTranslated(translated);\n        };\n        getTranslation();\n    }, [language, debouncedText]);\n    return (\n        <div className='ui mt-20 p-20 r-5 white size25 glassy'>{translated}</div>\n    )\n};\n\nexport default Translate;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpC,MAAMC,SAAS,GAAGC,IAAA,IAAsB;EAAAC,EAAA;EAAA,IAArB;IAACC,QAAQ;IAAEC;EAAI,CAAC,GAAAH,IAAA;EAC/B,MAAM,CAACI,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACa,aAAa,EAAEC,gBAAgB,CAAC,GAAGd,QAAQ,CAACU,IAAI,CAAC;EAExDT,SAAS,CAAC,MAAM;IACZ,MAAMc,OAAO,GAAGC,UAAU,CAAC,MAAM;MAC7BF,gBAAgB,CAACJ,IAAI,CAAC;IAC1B,CAAC,EAAE,GAAG,CAAC;IACP,OAAO,MAAM;MACTO,YAAY,CAACF,OAAO,CAAC;IACzB,CAAC;EACL,CAAC,EAAC,CAACL,IAAI,CAAC,CAAC;EAETT,SAAS,CAAC,MAAM;IACZ,MAAMiB,cAAc,GAAG,MAAAA,CAAA,KAAY;MAC/B;MACA,MAAMC,QAAQ,GAAG,sCAAsC;MACvD,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMlB,KAAK,CAACmB,IAAI,CAC5BlB,MAAM,CAACmB,kBAAkB,EAC1B,CAAC,CAAC,EACF;QACIC,MAAM,EAAE;UACJC,MAAM,EAAE,KAAK;UACbC,CAAC,EAAEZ,aAAa;UAChBa,MAAM,EAAEjB,QAAQ,CAACkB,KAAK;UACtBC,GAAG,EAAEzB,MAAM,CAAC0B;QAChB;MACJ;MACA;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QACY,CAAC;;MACD,MAAMlB,UAAU,GAAGS,IAAI,CAACA,IAAI,CAACU,YAAY,CAAC,CAAC,CAAC,CAACC,cAAc;MAC3DnB,aAAa,CAACD,UAAU,CAAC;IAC7B,CAAC;IACDO,cAAc,CAAC,CAAC;EACpB,CAAC,EAAE,CAACT,QAAQ,EAAEI,aAAa,CAAC,CAAC;EAC7B,oBACIR,OAAA;IAAK2B,SAAS,EAAC,uCAAuC;IAAAC,QAAA,EAAEtB;EAAU;IAAAuB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AAEjF,CAAC;AAAC7B,EAAA,CApDIF,SAAS;AAAAgC,EAAA,GAAThC,SAAS;AAsDf,eAAeA,SAAS;AAAC,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}