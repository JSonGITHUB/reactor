{"ast":null,"code":"import _classCallCheck from\"/Users/js/Dev/my-first-reactor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/js/Dev/my-first-reactor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/js/Dev/my-first-reactor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/js/Dev/my-first-reactor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/js/Dev/my-first-reactor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Dialog from'./functional/Dialog.js';import Selector from'./forms/FunctionalSelector.js';import RadioSelector from'./forms/FormRadio.js';import DatePicker from'react-date-picker';import getKey from'./utils/KeyGenerator.js';var LogEntry=/*#__PURE__*/function(_React$Component){_inherits(LogEntry,_React$Component);var _super=_createSuper(LogEntry);function LogEntry(props){var _this;_classCallCheck(this,LogEntry);_this=_super.call(this,props);_this.getStateLog=function(){return _this.props.getStateLog();};_this.items=function(){return _this.state.items;};_this.hasBeenSelected=function(item,groupTitle){return item.selections.indexOf(_this.log[groupTitle][item.description])!==-1?true:false;};_this.defaultSelection=function(item,groupTitle){return _this.hasBeenSelected(item,groupTitle)?item.selections.indexOf(_this.log[groupTitle][item.description]):0;};_this.selectorColor=function(item,groupTitle){return _this.hasBeenSelected(item,groupTitle)?\"completedSelector\":\"incompletedSelector\";};_this.radioItems=function(item,groupTitle){return/*#__PURE__*/React.createElement(RadioSelector,{header:groupTitle,groupTitle:groupTitle,selected:_this.defaultSelection(item,groupTitle),label:item.description,items:item.selections,onChange:_this.handleSelection});};_this.selector=function(item,groupTitle){var setSelectorStatus=item.selections.indexOf(_this.log[groupTitle][item.description])!==-1?_this.selectorStatus.push(true):_this.selectorStatus.push(false);return/*#__PURE__*/React.createElement(\"div\",{className:_this.selectorColor(item,groupTitle)+\" r-5 p-5 bg-green\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-5\"},item.description,\": \"),/*#__PURE__*/React.createElement(Selector,{groupTitle:groupTitle,selected:_this.defaultSelection(item,groupTitle),label:item.description,items:item.selections,onChange:_this.handleSelection}));};_this.radio=function(item,groupTitle){return/*#__PURE__*/React.createElement(\"div\",{className:\"r-5 bg-green\"},_this.radioItems(item,groupTitle));};_this.group=function(item){return item.group;};_this.selectionInterface=function(item,groupTitle){return item.type===\"radio\"?_this.radio(item,groupTitle):_this.selector(item,groupTitle);};_this.groups=function(){return _this.items().map(function(item){var headerClasses='subHeader color-yellow';var selectorClasses=\"greet p-2 bg-vdk-green flex3Column\";var groupClasses=\"flexContainer r-5\";var description=item.description;var addToLogs=function addToLogs(group){_this.log[description][group.description]=group.selections[_this.defaultSelection(group,description)];//this.props.onChange(description, group.description, group.selections[this.defaultSelection(group, description)], false);\n};// const logger = this.group(item).map((group) => addToLogs(group));\nreturn/*#__PURE__*/React.createElement(\"div\",{key:getKey(\"groupConainer\")},/*#__PURE__*/React.createElement(\"div\",{key:getKey(\"groupHeader\"),className:headerClasses},item.description),/*#__PURE__*/React.createElement(\"div\",{className:groupClasses,key:getKey(\"groupSubConainer\")},_this.group(item).map(function(group){return/*#__PURE__*/React.createElement(\"div\",{key:getKey(\"selectorConainer\"),className:selectorClasses},_this.selectionInterface(group,description));})));});};_this.categories=function(){_this.selectorStatus=[];return/*#__PURE__*/React.createElement(\"div\",{className:\"description\"},_this.groups());};_this.dateEntry=function(){var logExists=_this.state.log!==undefined&&JSON.stringify(_this.state.log,null,2)!==\"{}\"?true:false;var stateLogDate=function stateLogDate(){return _this.state.log.Day.Date;};var getDate=function getDate(){return logExists?stateLogDate():_this.state.date;};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"mb-5 subHeader color-yellow\"},\"Date\"),/*#__PURE__*/React.createElement(\"div\",{className:\"flexContainer bg-vdk-green\"},/*#__PURE__*/React.createElement(DatePicker,{onChange:_this.onDateChange,value:getDate(),className:\"p-10 bg-green flex3Column r-5 m-5\"}),/*#__PURE__*/React.createElement(\"br\",null)));};_this.selectorStatus=[];_this.buttonLabel=props.buttonLabel;_this.title=props.title;_this.log={Day:{},Location:{},Swell:{},Tide:{},Wind:{},Conditions:{},Comments:{}};_this.message=props.message;_this.state={date:new Date(),items:props.items,log:{}};_this.handleSelection=_this.handleSelection.bind(_assertThisInitialized(_this));_this.updateNotes=_this.updateNotes.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.onDateChange=_this.onDateChange.bind(_assertThisInitialized(_this));return _this;}_createClass(LogEntry,[{key:\"handleSelection\",value:function handleSelection(groupTitle,label,selected){if(typeof groupTitle===\"string\"){this.log[groupTitle][label]=selected;this.props.onChange(groupTitle,label,selected,true);this.setState({log:this.log});}}},{key:\"updateNotes\",value:function updateNotes(event){this.handleSelection(\"Comments\",\"notes\",event.target.value);}},{key:\"handleSubmit\",value:function handleSubmit(event){var _this2=this;var logExists=this.state.log!==undefined&&JSON.stringify(this.state.log,null,2)!==\"{}\"?true:false;var consoleStateLogData=function consoleStateLogData(){return console.log(\"LogEntry.state.log: \".concat(JSON.stringify(_this2.state.log,null,2)));};var consoleLogEntryData=function consoleLogEntryData(){return console.log(\"LogEntry.log: \".concat(JSON.stringify(_this2.log,null,2)));};var logIt=function logIt(){return logExists?consoleStateLogData():consoleLogEntryData();};var selectorStatusComplete=this.selectorStatus.includes(false)?window.confirm(\"Report is incomplete, submit anyway?\"):true;if(selectorStatusComplete){logIt();}event.preventDefault();}},{key:\"onDateChange\",value:function onDateChange(date){var pickerDate=date;date=String(date);var day=pickerDate.getDate();var month=pickerDate.getMonth()+1;var year=pickerDate.getFullYear();var logDate={\"month\":month,\"day\":day,\"year\":year};this.handleSelection(\"Day\",\"Date\",pickerDate);this.handleSelection(\"Day\",\"Day\",day);this.handleSelection(\"Day\",\"Month\",month);this.handleSelection(\"Day\",\"Year\",year);}},{key:\"render\",value:function render(){//console.log(`GET STATE LOG ${JSON.stringify(this.getStateLog(), null, 2)}`)\nreturn/*#__PURE__*/React.createElement(Dialog,{title:this.title,message:this.message},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},this.dateEntry(),this.categories(),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-5\"},\"Additional Comments: \"),/*#__PURE__*/React.createElement(\"textarea\",{rows:\"10\",cols:\"50\",value:this.state.entry,onChange:this.updateNotes}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{onClick:this.handleSubmit},this.buttonLabel)));}}]);return LogEntry;}(React.Component);export default LogEntry;","map":{"version":3,"sources":["/Users/js/Dev/my-first-reactor/src/components/LogEntry.js"],"names":["React","Dialog","Selector","RadioSelector","DatePicker","getKey","LogEntry","props","getStateLog","items","state","hasBeenSelected","item","groupTitle","selections","indexOf","log","description","defaultSelection","selectorColor","radioItems","handleSelection","selector","setSelectorStatus","selectorStatus","push","radio","group","selectionInterface","type","groups","map","headerClasses","selectorClasses","groupClasses","addToLogs","categories","dateEntry","logExists","undefined","JSON","stringify","stateLogDate","Day","Date","getDate","date","onDateChange","buttonLabel","title","Location","Swell","Tide","Wind","Conditions","Comments","message","bind","updateNotes","handleSubmit","label","selected","onChange","setState","event","target","value","consoleStateLogData","console","consoleLogEntryData","logIt","selectorStatusComplete","includes","window","confirm","preventDefault","pickerDate","String","day","month","getMonth","year","getFullYear","logDate","entry","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Dialog from './functional/Dialog.js';\nimport Selector from './forms/FunctionalSelector.js';\nimport RadioSelector from './forms/FormRadio.js';\nimport DatePicker from 'react-date-picker';\nimport getKey from './utils/KeyGenerator.js';\n\nclass LogEntry extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.selectorStatus = [];\n        this.buttonLabel = props.buttonLabel;\n        this.title = props.title;\n        this.log = {\n            Day: {},\n            Location: {},\n            Swell: {},\n            Tide: {},\n            Wind: {},\n            Conditions: {},\n            Comments: {}\n        };\n        this.message = props.message;\n        this.state = {\n            date: new Date(),\n            items: props.items,\n            log: {}\n        };\n        this.handleSelection = this.handleSelection.bind(this);\n        this.updateNotes = this.updateNotes.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.onDateChange = this.onDateChange.bind(this);\n    }\n    handleSelection(groupTitle, label, selected) {\n        if (typeof groupTitle === \"string\") {\n            this.log[groupTitle][label] = selected;\n            this.props.onChange(groupTitle, label, selected, true);\n            this.setState({\n                log: this.log\n            });\n        } \n    }\n    updateNotes(event) {\n        this.handleSelection(\"Comments\", \"notes\", event.target.value);\n    }\n    \n    handleSubmit(event) {\n        const logExists = (this.state.log !== undefined && JSON.stringify(this.state.log, null, 2) !== \"{}\") ? true : false;\n        const consoleStateLogData = () => console.log(`LogEntry.state.log: ${JSON.stringify(this.state.log, null, 2)}`);\n        const consoleLogEntryData = () => console.log(`LogEntry.log: ${JSON.stringify(this.log, null, 2)}`)\n        const logIt = () => (logExists) ? consoleStateLogData() : consoleLogEntryData();\n        const selectorStatusComplete = (this.selectorStatus.includes(false)) ? window.confirm(\"Report is incomplete, submit anyway?\") : true;\n        if (selectorStatusComplete) {\n            logIt();\n        }\n        event.preventDefault();\n    }\n    onDateChange(date) {\n        const pickerDate = date;\n        date = String(date);\n        const day = pickerDate.getDate();\n        const month = pickerDate.getMonth()+1;\n        const year = pickerDate.getFullYear();\n        const logDate = {\n            \"month\": month,\n            \"day\": day,\n            \"year\": year\n        }\n        this.handleSelection(\"Day\", \"Date\", pickerDate);\n        this.handleSelection(\"Day\", \"Day\", day);\n        this.handleSelection(\"Day\", \"Month\", month);\n        this.handleSelection(\"Day\", \"Year\", year);\n    }\n    getStateLog = () => this.props.getStateLog();\n    items = () => this.state.items;\n    hasBeenSelected = (item,groupTitle) => ((item.selections.indexOf(this.log[groupTitle][item.description])) !== -1) ? true : false;\n    defaultSelection = (item,groupTitle) => (this.hasBeenSelected(item,groupTitle)) ? (item.selections.indexOf(this.log[groupTitle][item.description])) : 0; \n    selectorColor = (item,groupTitle) => (this.hasBeenSelected(item,groupTitle)) ? \"completedSelector\" : \"incompletedSelector\";\n    \n    radioItems = (item, groupTitle) => <RadioSelector\n                    header={groupTitle}\n                    groupTitle={groupTitle} \n                    selected={this.defaultSelection(item,groupTitle)} \n                    label={item.description} \n                    items={item.selections} \n                    onChange={this.handleSelection}\n                />;\n    selector = (item, groupTitle) => {\n\n            const setSelectorStatus = ((item.selections.indexOf(this.log[groupTitle][item.description])) !== -1) ? this.selectorStatus.push(true) : this.selectorStatus.push(false);\n            \n            return <div className={this.selectorColor(item,groupTitle) + \" r-5 p-5 bg-green\"}>\n                <div className=\"mb-5\">{item.description}: </div>\n                <Selector \n                    groupTitle={groupTitle} \n                    selected={this.defaultSelection(item,groupTitle)} \n                    label={item.description} \n                    items={item.selections}\n                    onChange={this.handleSelection}\n                />\n            </div>;\n    }\n\n    radio = (item, groupTitle) => <div className=\"r-5 bg-green\">\n                {this.radioItems(item, groupTitle)}\n            </div>;\n    group = (item) => item.group;\n    selectionInterface = (item, groupTitle) => (item.type === \"radio\") ? this.radio(item, groupTitle) : this.selector(item, groupTitle);\n\n    groups = () => this.items().map((item) => {\n        const headerClasses = 'subHeader color-yellow';\n        const selectorClasses = \"greet p-2 bg-vdk-green flex3Column\";\n        const groupClasses = \"flexContainer r-5\";\n        const description = item.description;\n        const addToLogs = (group) => {\n            this.log[description][group.description] = group.selections[this.defaultSelection(group, description)]\n            //this.props.onChange(description, group.description, group.selections[this.defaultSelection(group, description)], false);\n        }\n       // const logger = this.group(item).map((group) => addToLogs(group));\n        return <div key={getKey(\"groupConainer\")}>\n                    <div key={getKey(\"groupHeader\")} className={headerClasses}>\n                        {item.description}\n                    </div>\n                    <div className={groupClasses} key={getKey(\"groupSubConainer\")}>\n                        {this.group(item).map((group) => \n                            <div key={getKey(\"selectorConainer\")} className={selectorClasses}>\n                                {this.selectionInterface(group, description)}\n                            </div>\n                        )}\n                    </div>\n                </div>\n    })\n    categories = () => {\n        this.selectorStatus = [];\n        return <div className='description'>{this.groups()}</div>;\n    }\n    dateEntry = () => {\n\n            const logExists = (this.state.log !== undefined && JSON.stringify(this.state.log, null, 2) !== \"{}\") ? true : false;\n            const stateLogDate = () => this.state.log.Day.Date;\n            const getDate = () => (logExists) ? stateLogDate() : this.state.date;\n            return <div>\n                <div className='mb-5 subHeader color-yellow'>Date</div>\n                <div className='flexContainer bg-vdk-green'>\n                    <DatePicker\n                        onChange={this.onDateChange}\n                        value={getDate()} \n                        className='p-10 bg-green flex3Column r-5 m-5'\n                    /><br/>\n                </div>\n            </div>\n    }\n    \n    render() {\n        //console.log(`GET STATE LOG ${JSON.stringify(this.getStateLog(), null, 2)}`)\n        return (\n            <Dialog title={this.title} message={this.message}>\n                <form onSubmit={this.handleSubmit}>\n                    {this.dateEntry()}\n                    {this.categories()}\n                    <br/>\n                    \n                    <div className=\"mb-5\">Additional Comments: </div>\n                    <textarea rows=\"10\" cols=\"50\" value={this.state.entry} onChange={this.updateNotes} /><br/><br/>\n                    <button onClick={this.handleSubmit}>\n                        {this.buttonLabel}\n                    </button>\n                </form>\n            </Dialog>\n        );\n    };\n}\n\nexport default LogEntry;"]},"metadata":{},"sourceType":"module"}